# Kibana Configuration for Oil Trading System

# Server settings
server.name: "oiltrading-kibana"
server.host: "0.0.0.0"
server.port: 5601
server.publicBaseUrl: "http://localhost:5601"

# Elasticsearch settings
elasticsearch.hosts: ["http://elasticsearch:9200"]
elasticsearch.requestTimeout: 30000
elasticsearch.pingTimeout: 3000

# Logging
logging.level: info
logging.appenders.file.fileName: /usr/share/kibana/logs/kibana.log
logging.appenders.file.layout.type: json

# Security
xpack.security.enabled: false
xpack.encryptedSavedObjects.encryptionKey: "min32characterslongencryptionkeyx"

# Monitoring
xpack.monitoring.enabled: false

# Advanced settings
elasticsearch.sniffOnStart: false
elasticsearch.sniffInterval: false
map.includeElasticMapsService: false

# Data views
data.search.aggs.shardDelay.enabled: true
data.search.sessions.enabled: true

# Telemetry
telemetry.enabled: false

# Alerting
xpack.alerting.enabled: true
xpack.actions.enabled: true

# Canvas
xpack.canvas.enabled: true

# Maps
xpack.maps.enabled: true

# Machine Learning
xpack.ml.enabled: false

# Dev tools
console.enabled: true

# Advanced settings for performance
elasticsearch.maxSockets: 1024
elasticsearch.keepAlive: true
elasticsearch.compression: true

# Saved objects
savedObjects.maxImportPayloadBytes: 26214400

# CSP settings
csp.rules: [
  "script-src 'unsafe-eval' 'self'",
  "worker-src blob: 'self'",
  "child-src blob: 'self'"
]

# Default route
server.defaultRoute: "/app/discover"

# Index patterns
kibana.defaultAppId: "discover"

# Visualization settings
vis_type_vega.enableExternalUrls: false