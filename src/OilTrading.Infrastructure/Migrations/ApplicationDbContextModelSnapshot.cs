// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using OilTrading.Infrastructure.Data;

#nullable disable

namespace OilTrading.Infrastructure.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    partial class ApplicationDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder.HasAnnotation("ProductVersion", "9.0.0");

            modelBuilder.Entity("OilTrading.Core.Entities.ContractExecutionReport", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ActivatedDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ActualDeliveryDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("AdjustmentPrice")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("BenchmarkPrice")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletionDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractStatus")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractType")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("ContractValue")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Currency")
                        .HasColumnType("TEXT");

                    b.Property<int>("DaysToActivation")
                        .HasColumnType("INTEGER");

                    b.Property<int>("DaysToCompletion")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeliveryTerms")
                        .HasColumnType("TEXT");

                    b.Property<string>("DischargePort")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("EstimatedDeliveryDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("ExecutedQuantity")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ExecutionPercentage")
                        .HasColumnType("TEXT");

                    b.Property<string>("ExecutionStatus")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("FinalPrice")
                        .HasColumnType("TEXT");

                    b.Property<bool>("HasRiskViolations")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsCompliant")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsOnSchedule")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPriceFinalized")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("LastUpdatedDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LaycanEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LaycanStart")
                        .HasColumnType("TEXT");

                    b.Property<string>("LoadPort")
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("PaidSettledAmount")
                        .HasColumnType("TEXT");

                    b.Property<string>("PaymentStatus")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("PricingFormula")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Quantity")
                        .HasColumnType("TEXT");

                    b.Property<string>("QuantityUnit")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ReportGeneratedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("RiskNotes")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("SettlementCount")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("SettlementDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("ShippingOperationCount")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("TotalSettledAmount")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("TradingPartnerId")
                        .HasColumnType("TEXT");

                    b.Property<string>("TradingPartnerName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("UnpaidSettledAmount")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.ToTable("ContractExecutionReports");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractMatching", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("MatchedBy")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("MatchedDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("MatchedQuantity")
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("PurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("SalesContractId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("PurchaseContractId");

                    b.HasIndex("SalesContractId");

                    b.ToTable("ContractMatchings");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractPricingEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<decimal?>("AveragePrice")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("average_price");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT")
                        .HasColumnName("contract_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("created_by");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("EventDate")
                        .HasColumnType("date")
                        .HasColumnName("event_date");

                    b.Property<int>("EventType")
                        .HasColumnType("INTEGER")
                        .HasColumnName("event_type");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsFinalized")
                        .HasColumnType("INTEGER")
                        .HasColumnName("is_finalized");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT")
                        .HasColumnName("notes");

                    b.Property<string>("PricingBenchmark")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("pricing_benchmark");

                    b.Property<int?>("PricingDaysCount")
                        .HasColumnType("INTEGER")
                        .HasColumnName("pricing_days_count");

                    b.Property<DateTime>("PricingEndDate")
                        .HasColumnType("date")
                        .HasColumnName("pricing_end_date");

                    b.Property<DateTime>("PricingStartDate")
                        .HasColumnType("date")
                        .HasColumnName("pricing_start_date");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER")
                        .HasColumnName("status");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_by");

                    b.HasKey("Id");

                    b.HasIndex("ContractId")
                        .HasDatabaseName("ix_contract_pricing_events_contract_id");

                    b.HasIndex("EventDate")
                        .HasDatabaseName("ix_contract_pricing_events_event_date");

                    b.HasIndex("IsFinalized")
                        .HasDatabaseName("ix_contract_pricing_events_is_finalized");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_contract_pricing_events_status");

                    b.HasIndex("ContractId", "EventType", "EventDate")
                        .IsUnique()
                        .HasDatabaseName("ix_contract_pricing_events_contract_type_date");

                    b.ToTable("contract_pricing_events", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractSettlement", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ActualQuantityBBL")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ActualQuantityMT")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("AdjustmentAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("AmendmentReason")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("AmendmentType")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<decimal>("BenchmarkAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("BenchmarkPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("BenchmarkPriceCurrency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<string>("BenchmarkPriceFormula")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CalculationQuantityBBL")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CalculationQuantityMT")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CargoValue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DealReferenceId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("DocumentDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DocumentNumber")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("DocumentType")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("ExchangeRate")
                        .HasPrecision(10, 6)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExchangeRateNote")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExternalContractNumber")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("FinalizedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("FinalizedDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsFinalized")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsLatestVersion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LastModifiedDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("OriginalSettlementId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PreviousSettlementId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingEndDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingStartDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("QuantityCalculationNote")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<string>("SettlementCurrency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<int>("SettlementSequence")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("SupersededDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalCharges")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalSettlementAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractId")
                        .HasDatabaseName("IX_ContractSettlements_ContractId");

                    b.HasIndex("CreatedDate")
                        .HasDatabaseName("IX_ContractSettlements_CreatedDate");

                    b.HasIndex("DealReferenceId")
                        .HasDatabaseName("IX_ContractSettlements_DealReferenceId");

                    b.HasIndex("DocumentDate")
                        .HasDatabaseName("IX_ContractSettlements_DocumentDate");

                    b.HasIndex("DocumentNumber")
                        .HasDatabaseName("IX_ContractSettlements_DocumentNumber");

                    b.HasIndex("ExternalContractNumber")
                        .HasDatabaseName("IX_ContractSettlements_ExternalContractNumber");

                    b.HasIndex("IsFinalized")
                        .HasDatabaseName("IX_ContractSettlements_IsFinalized");

                    b.HasIndex("IsLatestVersion")
                        .HasDatabaseName("IX_ContractSettlements_IsLatestVersion");

                    b.HasIndex("OriginalSettlementId")
                        .HasDatabaseName("IX_ContractSettlements_OriginalSettlementId");

                    b.HasIndex("PreviousSettlementId")
                        .HasDatabaseName("IX_ContractSettlements_PreviousSettlementId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ContractSettlements_Status");

                    b.HasIndex("ContractId", "Status")
                        .HasDatabaseName("IX_ContractSettlements_ContractId_Status");

                    b.HasIndex("IsFinalized", "CreatedDate")
                        .HasDatabaseName("IX_ContractSettlements_IsFinalized_CreatedDate");

                    b.HasIndex("OriginalSettlementId", "SettlementSequence")
                        .HasDatabaseName("IX_ContractSettlements_OriginalSettlementId_Sequence");

                    b.HasIndex("Status", "CreatedDate")
                        .HasDatabaseName("IX_ContractSettlements_Status_CreatedDate");

                    b.ToTable("ContractSettlements", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractTag", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("AssignedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("AssignedAt");

                    b.Property<string>("AssignedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("AssignedBy");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT")
                        .HasColumnName("ContractId");

                    b.Property<string>("ContractType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasColumnName("ContractType");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("CreatedAt");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT")
                        .HasColumnName("Notes");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("TagId")
                        .HasColumnType("TEXT")
                        .HasColumnName("TagId");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("UpdatedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("UpdatedBy");

                    b.HasKey("Id");

                    b.HasIndex("AssignedAt")
                        .HasDatabaseName("IX_ContractTags_AssignedAt");

                    b.HasIndex("TagId")
                        .HasDatabaseName("IX_ContractTags_TagId");

                    b.HasIndex("ContractId", "ContractType")
                        .HasDatabaseName("IX_ContractTags_Contract");

                    b.HasIndex("ContractId", "ContractType", "TagId")
                        .IsUnique()
                        .HasDatabaseName("IX_ContractTags_Contract_Tag_Unique");

                    b.ToTable("ContractTags", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.DailyPrice", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<Guid>("BenchmarkId")
                        .HasColumnType("TEXT")
                        .HasColumnName("benchmark_id");

                    b.Property<decimal>("ClosePrice")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("close_price");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("created_by");

                    b.Property<string>("DataQuality")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT")
                        .HasColumnName("data_quality");

                    b.Property<string>("DataSource")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("Discount")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("discount");

                    b.Property<decimal>("HighPrice")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("high_price");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsHoliday")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPublished")
                        .HasColumnType("INTEGER")
                        .HasColumnName("is_published");

                    b.Property<decimal>("LowPrice")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("low_price");

                    b.Property<string>("Notes")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("OpenPrice")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("open_price");

                    b.Property<decimal>("Premium")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasColumnName("premium");

                    b.Property<decimal>("Price")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("PriceDate")
                        .HasColumnType("date")
                        .HasColumnName("price_date");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_by");

                    b.Property<decimal>("Volume")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT")
                        .HasColumnName("volume");

                    b.HasKey("Id");

                    b.HasIndex("IsPublished")
                        .HasDatabaseName("ix_daily_prices_is_published");

                    b.HasIndex("PriceDate")
                        .HasDatabaseName("ix_daily_prices_price_date");

                    b.HasIndex("BenchmarkId", "PriceDate")
                        .IsUnique()
                        .HasDatabaseName("ix_daily_prices_benchmark_date");

                    b.ToTable("daily_prices", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.FinancialReport", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("CurrentAssets")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("CurrentLiabilities")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("NetAssets")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("NetProfit")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("OperatingCashFlow")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ReportEndDate")
                        .HasColumnType("date");

                    b.Property<DateTime>("ReportStartDate")
                        .HasColumnType("date");

                    b.Property<decimal?>("Revenue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<decimal?>("TotalAssets")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("TotalLiabilities")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TradingPartnerId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ReportStartDate")
                        .HasDatabaseName("IX_FinancialReports_ReportStartDate");

                    b.HasIndex("TradingPartnerId")
                        .HasDatabaseName("IX_FinancialReports_TradingPartnerId");

                    b.HasIndex("TradingPartnerId", "ReportStartDate")
                        .IsUnique()
                        .HasDatabaseName("IX_FinancialReports_TradingPartnerId_ReportStartDate");

                    b.ToTable("FinancialReports", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.FuturesDeal", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Broker")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ClearingHouse")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ClearingReference")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractMonth")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<string>("DataSource")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("DealNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<int>("Direction")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Exchange")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ImportedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("ImportedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsCleared")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("MarketPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("OriginalFileName")
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PaperContractId")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Price")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("PriceUnit")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Quantity")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<int>("QuantityUnit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<decimal?>("RealizedPnL")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime?>("SettlementDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("TotalValue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("TradeDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Trader")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("UnrealizedPnL")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ValueDate")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractMonth")
                        .HasDatabaseName("IX_FuturesDeals_ContractMonth");

                    b.HasIndex("DealNumber")
                        .HasDatabaseName("IX_FuturesDeals_DealNumber");

                    b.HasIndex("ImportedAt")
                        .HasDatabaseName("IX_FuturesDeals_ImportedAt");

                    b.HasIndex("PaperContractId");

                    b.HasIndex("ProductCode")
                        .HasDatabaseName("IX_FuturesDeals_ProductCode");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_FuturesDeals_Status");

                    b.HasIndex("TradeDate")
                        .HasDatabaseName("IX_FuturesDeals_TradeDate");

                    b.HasIndex("DealNumber", "TradeDate")
                        .IsUnique()
                        .HasDatabaseName("IX_FuturesDeals_DealNumber_TradeDate");

                    b.HasIndex("ProductCode", "ContractMonth")
                        .HasDatabaseName("IX_FuturesDeals_Product_Contract");

                    b.ToTable("FuturesDeals", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryLocation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("ContactInfo")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("Coordinates")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Country")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("HandlingServices")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<bool>("HasPipelineAccess")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("HasRailAccess")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("HasRoadAccess")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("HasSeaAccess")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<string>("LocationCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("LocationName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<int>("LocationType")
                        .HasColumnType("INTEGER");

                    b.Property<string>("OperatorName")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("Region")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<string>("SupportedProducts")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("Country")
                        .HasDatabaseName("IX_InventoryLocations_Country");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_InventoryLocations_IsActive");

                    b.HasIndex("LocationCode")
                        .IsUnique()
                        .HasDatabaseName("IX_InventoryLocations_LocationCode");

                    b.HasIndex("LocationType")
                        .HasDatabaseName("IX_InventoryLocations_LocationType");

                    b.ToTable("InventoryLocations", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryMovement", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ApprovedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("ApprovedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("FromInventoryPositionId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("FromLocationId")
                        .HasColumnType("TEXT");

                    b.Property<string>("InitiatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime>("MovementDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("MovementReference")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<int>("MovementType")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PlannedDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid?>("SalesContractId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("ShippingOperationId")
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<Guid?>("ToInventoryPositionId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ToLocationId")
                        .HasColumnType("TEXT");

                    b.Property<string>("TransportMode")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("TransportReference")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("VesselName")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("FromInventoryPositionId");

                    b.HasIndex("FromLocationId")
                        .HasDatabaseName("IX_InventoryMovements_FromLocationId");

                    b.HasIndex("MovementDate")
                        .HasDatabaseName("IX_InventoryMovements_MovementDate");

                    b.HasIndex("MovementReference")
                        .IsUnique()
                        .HasDatabaseName("IX_InventoryMovements_MovementReference");

                    b.HasIndex("MovementType")
                        .HasDatabaseName("IX_InventoryMovements_MovementType");

                    b.HasIndex("PlannedDate")
                        .HasDatabaseName("IX_InventoryMovements_PlannedDate");

                    b.HasIndex("ProductId")
                        .HasDatabaseName("IX_InventoryMovements_ProductId");

                    b.HasIndex("PurchaseContractId")
                        .HasDatabaseName("IX_InventoryMovements_PurchaseContractId");

                    b.HasIndex("SalesContractId")
                        .HasDatabaseName("IX_InventoryMovements_SalesContractId");

                    b.HasIndex("ShippingOperationId")
                        .HasDatabaseName("IX_InventoryMovements_ShippingOperationId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_InventoryMovements_Status");

                    b.HasIndex("ToInventoryPositionId");

                    b.HasIndex("ToLocationId")
                        .HasDatabaseName("IX_InventoryMovements_ToLocationId");

                    b.ToTable("InventoryMovements", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryPosition", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("API")
                        .HasPrecision(10, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("BatchReference")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Grade")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime>("LastUpdated")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("LocationId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<string>("QualityNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ReceivedDate")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<string>("StatusNotes")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("Sulfur")
                        .HasPrecision(10, 4)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("Viscosity")
                        .HasPrecision(10, 4)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("LocationId")
                        .HasDatabaseName("IX_InventoryPositions_LocationId");

                    b.HasIndex("ProductId")
                        .HasDatabaseName("IX_InventoryPositions_ProductId");

                    b.HasIndex("ReceivedDate")
                        .HasDatabaseName("IX_InventoryPositions_ReceivedDate");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_InventoryPositions_Status");

                    b.HasIndex("LocationId", "ProductId")
                        .IsUnique()
                        .HasDatabaseName("IX_InventoryPositions_Location_Product");

                    b.ToTable("InventoryPositions", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryReservation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("LocationCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("ReleaseReason")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("ReleasedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ReleasedDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ReservationDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("ReservedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractId")
                        .HasDatabaseName("IX_InventoryReservations_ContractId");

                    b.HasIndex("LocationCode")
                        .HasDatabaseName("IX_InventoryReservations_LocationCode");

                    b.HasIndex("ProductCode")
                        .HasDatabaseName("IX_InventoryReservations_ProductCode");

                    b.HasIndex("ReservationDate")
                        .HasDatabaseName("IX_InventoryReservations_ReservationDate");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_InventoryReservations_Status");

                    b.HasIndex("ProductCode", "LocationCode", "Status")
                        .HasDatabaseName("IX_InventoryReservations_Product_Location_Status");

                    b.ToTable("InventoryReservations");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.MarketPrice", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractMonth")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT");

                    b.Property<string>("DataSource")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ImportedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("ImportedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsSettlement")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<decimal>("Price")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("PriceDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("PriceType")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ProductCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("Region")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00'");

                    b.Property<string>("Source")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractMonth")
                        .HasDatabaseName("IX_MarketPrices_ContractMonth");

                    b.HasIndex("DataSource")
                        .HasDatabaseName("IX_MarketPrices_DataSource");

                    b.HasIndex("PriceDate")
                        .HasDatabaseName("IX_MarketPrices_PriceDate");

                    b.HasIndex("PriceType")
                        .HasDatabaseName("IX_MarketPrices_PriceType");

                    b.HasIndex("ProductCode")
                        .HasDatabaseName("IX_MarketPrices_ProductCode");

                    b.HasIndex("ProductCode", "ContractMonth", "PriceDate", "PriceType")
                        .IsUnique()
                        .HasDatabaseName("IX_MarketPrices_ProductCode_ContractMonth_PriceDate_PriceType");

                    b.HasIndex("ProductCode", "Region", "PriceDate", "PriceType")
                        .HasDatabaseName("IX_MarketPrices_ProductCode_Region_PriceDate_PriceType");

                    b.ToTable("MarketPrices", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.OperationAuditLog", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Data")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("Data");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<string>("InitiatedBy")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsSuccess")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("OperationId")
                        .HasColumnType("TEXT");

                    b.Property<string>("OperationName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("OperationType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("TransactionId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_OperationAuditLogs_CreatedAt");

                    b.HasIndex("IsSuccess")
                        .HasDatabaseName("IX_OperationAuditLogs_IsSuccess");

                    b.HasIndex("OperationId")
                        .HasDatabaseName("IX_OperationAuditLogs_OperationId");

                    b.HasIndex("OperationType")
                        .HasDatabaseName("IX_OperationAuditLogs_OperationType");

                    b.HasIndex("Timestamp")
                        .HasDatabaseName("IX_OperationAuditLogs_Timestamp");

                    b.HasIndex("TransactionId")
                        .HasDatabaseName("IX_OperationAuditLogs_TransactionId");

                    b.HasIndex("OperationType", "IsSuccess", "Timestamp")
                        .HasDatabaseName("IX_OperationAuditLogs_Type_Success_Timestamp");

                    b.ToTable("OperationAuditLogs", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PaperContract", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractMonth")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("CounterpartyName")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("CurrentPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("DailyPnL")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("EntryPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("HedgeDesignationDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("HedgeEffectiveness")
                        .HasPrecision(5, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("HedgeRatio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(8, 4)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(1.0m);

                    b.Property<Guid?>("HedgedContractId")
                        .HasColumnType("TEXT");

                    b.Property<int?>("HedgedContractType")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDesignatedHedge")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsSpread")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastMTMDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Leg1Product")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Leg2Product")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("LotSize")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<int>("Position")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ProductType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Quantity")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("RealizedPnL")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime?>("SettlementDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("SpreadValue")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("TradeDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("TradeGroupId")
                        .HasColumnType("TEXT");

                    b.Property<string>("TradeReference")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("UnrealizedPnL")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("VaRValue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("Volatility")
                        .HasPrecision(8, 4)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractMonth")
                        .HasDatabaseName("IX_PaperContracts_ContractMonth");

                    b.HasIndex("HedgedContractId")
                        .HasDatabaseName("IX_PaperContracts_HedgedContractId");

                    b.HasIndex("IsDesignatedHedge")
                        .HasDatabaseName("IX_PaperContracts_IsDesignatedHedge");

                    b.HasIndex("Position")
                        .HasDatabaseName("IX_PaperContracts_Position");

                    b.HasIndex("ProductType")
                        .HasDatabaseName("IX_PaperContracts_ProductType");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PaperContracts_Status");

                    b.HasIndex("TradeDate")
                        .HasDatabaseName("IX_PaperContracts_TradeDate");

                    b.HasIndex("TradeGroupId");

                    b.HasIndex("HedgedContractId", "HedgedContractType")
                        .HasDatabaseName("IX_PaperContracts_HedgedContractId_Type");

                    b.HasIndex("IsDesignatedHedge", "Status")
                        .HasDatabaseName("IX_PaperContracts_IsDesignatedHedge_Status");

                    b.HasIndex("ProductType", "ContractMonth")
                        .HasDatabaseName("IX_PaperContracts_ProductType_ContractMonth");

                    b.ToTable("PaperContracts", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.Payment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("BankReference")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("FailureReason")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("InitiatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Instructions")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<int>("Method")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("PaymentDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("PaymentReference")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("SettlementId")
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("PaymentDate")
                        .HasDatabaseName("IX_Payments_PaymentDate");

                    b.HasIndex("PaymentReference")
                        .IsUnique()
                        .HasDatabaseName("IX_Payments_PaymentReference");

                    b.HasIndex("SettlementId")
                        .HasDatabaseName("IX_Payments_SettlementId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_Payments_Status");

                    b.ToTable("Payments");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PaymentRiskAlert", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<int>("AlertType")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("Amount")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int?>("DaysOverdue")
                        .HasColumnType("INTEGER");

                    b.Property<int?>("DaysUntilDue")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsResolved")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("ResolvedDate")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Severity")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TradingPartnerId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("AlertType")
                        .HasDatabaseName("IX_PaymentRiskAlerts_AlertType");

                    b.HasIndex("CreatedDate")
                        .HasDatabaseName("IX_PaymentRiskAlerts_CreatedDate");

                    b.HasIndex("Severity")
                        .HasDatabaseName("IX_PaymentRiskAlerts_Severity");

                    b.HasIndex("TradingPartnerId")
                        .HasDatabaseName("IX_PaymentRiskAlerts_TradingPartnerId");

                    b.HasIndex("TradingPartnerId", "IsResolved")
                        .HasDatabaseName("IX_PaymentRiskAlerts_TradingPartnerId_IsResolved");

                    b.ToTable("PaymentRiskAlerts");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PhysicalContract", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("AgencyFee")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CommercialInvoiceDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("CommercialInvoiceNumber")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ContractDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<int>("ContractType")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("ContractValue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<int>("CreditDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(30);

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("DeliveredQuantity")
                        .HasPrecision(18, 3)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeliveryDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeliveryTerms")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("TEXT");

                    b.Property<string>("DischargePort")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("FixedPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("InternalNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("InvoicedAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsAgencyTrade")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsFullySettled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime>("LaycanEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("LaycanStart")
                        .HasColumnType("TEXT");

                    b.Property<string>("LoadPort")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("OutstandingAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("PaidAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PaymentDueDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("PaymentTerms")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("Premium")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("PrepaymentPercentage")
                        .HasPrecision(5, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("PricingBasis")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("PricingFormula")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<int>("PricingType")
                        .HasColumnType("INTEGER");

                    b.Property<string>("PrincipalName")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductSpec")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ProformaInvoiceDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("ProformaInvoiceNumber")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Quantity")
                        .HasPrecision(18, 3)
                        .HasColumnType("TEXT");

                    b.Property<int>("QuantityUnit")
                        .HasMaxLength(10)
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("TradingPartnerId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractDate")
                        .HasDatabaseName("IX_PhysicalContracts_ContractDate");

                    b.HasIndex("ContractNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_PhysicalContracts_ContractNumber");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PhysicalContracts_Status");

                    b.HasIndex("TradingPartnerId")
                        .HasDatabaseName("IX_PhysicalContracts_TradingPartnerId");

                    b.HasIndex("LaycanStart", "LaycanEnd")
                        .HasDatabaseName("IX_PhysicalContracts_Laycan");

                    b.ToTable("PhysicalContracts", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PriceBenchmark", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<string>("BenchmarkName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("benchmark_name");

                    b.Property<int>("BenchmarkType")
                        .HasColumnType("INTEGER")
                        .HasColumnName("benchmark_type");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("created_by");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasColumnName("currency");

                    b.Property<string>("DataSource")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT")
                        .HasColumnName("data_source");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT")
                        .HasColumnName("description");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER")
                        .HasColumnName("is_active");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ProductCategory")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("product_category");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<string>("Unit")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("TEXT")
                        .HasColumnName("unit");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_by");

                    b.HasKey("Id");

                    b.HasIndex("BenchmarkName")
                        .HasDatabaseName("ix_price_benchmarks_benchmark_name");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_price_benchmarks_is_active");

                    b.HasIndex("BenchmarkType", "ProductCategory")
                        .HasDatabaseName("ix_price_benchmarks_type_category");

                    b.ToTable("price_benchmarks", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PricingEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ActualEventDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("AfterDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<int>("BeforeDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("EventDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("EventType")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("HasIndexOnEventDay")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsEventConfirmed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("PricingPeriodEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("PricingPeriodStart")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid?>("SalesContractId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("ShippingOperationId")
                        .HasColumnType("TEXT");

                    b.Property<int>("TotalPricingDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractId")
                        .HasDatabaseName("IX_PricingEvents_ContractId");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_PricingEvents_CreatedAt");

                    b.HasIndex("EventDate")
                        .IsDescending()
                        .HasDatabaseName("IX_PricingEvents_EventDate_Recent")
                        .HasAnnotation("Npgsql:IndexInclude", new[] { "ContractId", "EventType" });

                    b.HasIndex("EventType")
                        .HasDatabaseName("IX_PricingEvents_EventType");

                    b.HasIndex("IsEventConfirmed")
                        .HasDatabaseName("IX_PricingEvents_IsEventConfirmed");

                    b.HasIndex("PurchaseContractId");

                    b.HasIndex("SalesContractId");

                    b.HasIndex("ShippingOperationId");

                    b.HasIndex("ContractId", "EventDate")
                        .IsDescending(false, true)
                        .HasDatabaseName("IX_PricingEvents_Contract_Date_DESC");

                    b.HasIndex("EventType", "EventDate")
                        .HasDatabaseName("IX_PricingEvents_Type_Date");

                    b.HasIndex("PricingPeriodStart", "PricingPeriodEnd")
                        .HasDatabaseName("IX_PricingEvents_PricingPeriod");

                    b.HasIndex("EventType", "ContractId", "EventDate")
                        .HasDatabaseName("IX_PricingEvents_Type_Contract_Date");

                    b.ToTable("PricingEvents", null, t =>
                        {
                            t.HasComment("Partitioned by EventDate (monthly partitions for performance)");
                        });
                });

            modelBuilder.Entity("OilTrading.Core.Entities.Product", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Density")
                        .HasPrecision(10, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("Grade")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("Origin")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductCode")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("ProductType")
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<string>("Specification")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<int>("Type")
                        .HasColumnType("INTEGER");

                    b.Property<string>("UnitOfMeasure")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_Products_Code");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_Products_IsActive");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_Products_Name");

                    b.HasIndex("Origin")
                        .HasDatabaseName("IX_Products_Origin");

                    b.HasIndex("ProductType")
                        .HasDatabaseName("IX_Products_ProductType");

                    b.HasIndex("Type")
                        .HasDatabaseName("IX_Products_Type");

                    b.HasIndex("Type", "IsActive")
                        .HasDatabaseName("IX_Products_Type_Active")
                        .HasAnnotation("Npgsql:IndexInclude", new[] { "Name", "Specification" });

                    b.ToTable("Products", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PurchaseContract", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("BenchmarkContractId")
                        .HasColumnType("TEXT");

                    b.Property<int>("ContractType")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int?>("CreditPeriodDays")
                        .HasColumnType("INTEGER");

                    b.Property<string>("DealReferenceId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<int>("DeliveryTerms")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("DischargePort")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExternalContractNumber")
                        .HasMaxLength(100)
                        .IsUnicode(true)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("FixedPercentage")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<decimal>("FixedQuantity")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<string>("Incoterms")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("InspectionAgency")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPriceFinalized")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastPricingDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LaycanEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LaycanStart")
                        .HasColumnType("TEXT");

                    b.Property<string>("LoadPort")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("MatchedQuantity")
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<string>("PaymentTerms")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("PrepaymentPercentage")
                        .HasPrecision(5, 2)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PriceBenchmarkId")
                        .HasColumnType("TEXT");

                    b.Property<int?>("PriceSource")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("PricingPeriodEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingPeriodStart")
                        .HasColumnType("TEXT");

                    b.Property<int>("PricingStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<Guid>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<string>("QualitySpecifications")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<int>("SettlementType")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("TonBarrelRatio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(8, 4)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(7.6m);

                    b.Property<Guid?>("TradeGroupId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TraderId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TradingPartnerId")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("UnfixedQuantity")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("BenchmarkContractId");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_PurchaseContracts_CreatedAt");

                    b.HasIndex("DealReferenceId")
                        .HasDatabaseName("IX_PurchaseContracts_DealReferenceId");

                    b.HasIndex("ExternalContractNumber")
                        .HasDatabaseName("IX_PurchaseContracts_ExternalContractNumber");

                    b.HasIndex("PriceBenchmarkId")
                        .HasDatabaseName("IX_PurchaseContracts_PriceBenchmarkId");

                    b.HasIndex("PricingStatus")
                        .HasDatabaseName("IX_PurchaseContracts_PricingStatus");

                    b.HasIndex("ProductId")
                        .HasDatabaseName("IX_PurchaseContracts_ProductId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PurchaseContracts_Status_Covering")
                        .HasAnnotation("Npgsql:IndexInclude", new[] { "TradingPartnerId", "ProductId", "TraderId", "CreatedAt", "UpdatedAt" });

                    b.HasIndex("TradeGroupId");

                    b.HasIndex("TraderId")
                        .HasDatabaseName("IX_PurchaseContracts_TraderId");

                    b.HasIndex("TradingPartnerId")
                        .HasDatabaseName("IX_PurchaseContracts_TradingPartnerId");

                    b.HasIndex("DealReferenceId", "Status")
                        .HasDatabaseName("IX_PurchaseContracts_DealReferenceId_Status");

                    b.HasIndex("LaycanStart", "LaycanEnd")
                        .HasDatabaseName("IX_PurchaseContracts_Laycan_Period")
                        .HasFilter("Status IN (1, 2)");

                    b.HasIndex("ProductId", "Status")
                        .HasDatabaseName("IX_PurchaseContracts_Product_Status");

                    b.HasIndex("Status", "CreatedAt")
                        .HasDatabaseName("IX_PurchaseContracts_Status_CreatedAt")
                        .HasAnnotation("Npgsql:IndexInclude", new[] { "TradingPartnerId", "ProductId" });

                    b.HasIndex("TraderId", "CreatedAt")
                        .HasDatabaseName("IX_PurchaseContracts_Trader_Date");

                    b.HasIndex("TradingPartnerId", "Status")
                        .HasDatabaseName("IX_PurchaseContracts_Supplier_Status");

                    b.ToTable("PurchaseContracts", null, t =>
                        {
                            t.HasComment("Consider partitioning by CreatedAt for large datasets");
                        });
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PurchaseSettlement", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ActualQuantityBBL")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ActualQuantityMT")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("AdjustmentAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("AmendmentReason")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("AmendmentType")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<decimal>("BenchmarkAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("BenchmarkPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("BenchmarkPriceCurrency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<string>("BenchmarkPriceFormula")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CalculationQuantityBBL")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CalculationQuantityMT")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CargoValue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DealReferenceId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("DocumentDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DocumentNumber")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("DocumentType")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("ExchangeRate")
                        .HasPrecision(10, 6)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExchangeRateNote")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExternalContractNumber")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("FinalizedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("FinalizedDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsFinalized")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsLatestVersion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LastModifiedDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("OriginalSettlementId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PreviousSettlementId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingEndDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingStartDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("PurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("QuantityCalculationNote")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<string>("SettlementCurrency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<int>("SettlementSequence")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("SupersededDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalCharges")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalSettlementAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedDate")
                        .HasDatabaseName("IX_PurchaseSettlements_CreatedDate");

                    b.HasIndex("DealReferenceId")
                        .HasDatabaseName("IX_PurchaseSettlements_DealReferenceId");

                    b.HasIndex("DocumentDate")
                        .HasDatabaseName("IX_PurchaseSettlements_DocumentDate");

                    b.HasIndex("DocumentNumber")
                        .HasDatabaseName("IX_PurchaseSettlements_DocumentNumber");

                    b.HasIndex("ExternalContractNumber")
                        .HasDatabaseName("IX_PurchaseSettlements_ExternalContractNumber");

                    b.HasIndex("IsFinalized")
                        .HasDatabaseName("IX_PurchaseSettlements_IsFinalized");

                    b.HasIndex("IsLatestVersion")
                        .HasDatabaseName("IX_PurchaseSettlements_IsLatestVersion");

                    b.HasIndex("OriginalSettlementId")
                        .HasDatabaseName("IX_PurchaseSettlements_OriginalSettlementId");

                    b.HasIndex("PreviousSettlementId")
                        .HasDatabaseName("IX_PurchaseSettlements_PreviousSettlementId");

                    b.HasIndex("PurchaseContractId")
                        .HasDatabaseName("IX_PurchaseSettlements_PurchaseContractId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PurchaseSettlements_Status");

                    b.HasIndex("IsFinalized", "CreatedDate")
                        .HasDatabaseName("IX_PurchaseSettlements_IsFinalized_CreatedDate");

                    b.HasIndex("OriginalSettlementId", "SettlementSequence")
                        .HasDatabaseName("IX_PurchaseSettlements_OriginalSettlementId_Sequence");

                    b.HasIndex("PurchaseContractId", "Status")
                        .HasDatabaseName("IX_PurchaseSettlements_PurchaseContractId_Status");

                    b.HasIndex("Status", "CreatedDate")
                        .HasDatabaseName("IX_PurchaseSettlements_Status_CreatedDate");

                    b.ToTable("PurchaseSettlements", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportArchive", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ArchiveDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ExecutionId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ExpiryDate")
                        .HasColumnType("TEXT");

                    b.Property<long>("FileSize")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0L);

                    b.Property<bool>("IsCompressed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<int>("RetentionDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(90);

                    b.Property<string>("StorageLocation")
                        .IsRequired()
                        .HasMaxLength(512)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ArchiveDate");

                    b.HasIndex("ExecutionId");

                    b.HasIndex("ExpiryDate");

                    b.HasIndex("ExpiryDate", "IsDeleted")
                        .HasFilter("[IsDeleted] = 0");

                    b.ToTable("ReportArchives", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportConfiguration", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ColumnsJson")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExportFormat")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("CSV");

                    b.Property<string>("FilterJson")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IncludeMetadata")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsActive")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<string>("ReportType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CreatedDate");

                    b.HasIndex("Name");

                    b.HasIndex("ReportType");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex("IsActive", "IsDeleted");

                    b.ToTable("ReportConfigurations", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportDistribution", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ChannelConfiguration")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasDefaultValue("{}");

                    b.Property<string>("ChannelName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<string>("ChannelType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<string>("LastTestMessage")
                        .HasColumnType("TEXT");

                    b.Property<string>("LastTestStatus")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LastTestedDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("MaxRetries")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("ReportConfigId")
                        .HasColumnType("TEXT");

                    b.Property<int>("RetryDelaySeconds")
                        .HasColumnType("INTEGER");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ChannelType");

                    b.HasIndex("IsEnabled");

                    b.HasIndex("ReportConfigId");

                    b.HasIndex("ReportConfigId", "ChannelType");

                    b.ToTable("ReportDistributions", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportExecution", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<double?>("DurationSeconds")
                        .HasPrecision(18, 2)
                        .HasColumnType("REAL");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("ExecutedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ExecutionEndTime")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ExecutionStartTime")
                        .HasColumnType("TEXT");

                    b.Property<int>("FailedDistributions")
                        .HasColumnType("INTEGER");

                    b.Property<long?>("FileSizeBytes")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsScheduled")
                        .HasColumnType("INTEGER");

                    b.Property<string>("OutputFileFormat")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("CSV");

                    b.Property<string>("OutputFileName")
                        .HasMaxLength(256)
                        .HasColumnType("TEXT");

                    b.Property<string>("OutputFilePath")
                        .HasMaxLength(512)
                        .HasColumnType("TEXT");

                    b.Property<int?>("RecordsProcessed")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("ReportConfigId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("Pending");

                    b.Property<int>("SuccessfulDistributions")
                        .HasColumnType("INTEGER");

                    b.Property<int?>("TotalRecords")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("ExecutedBy");

                    b.HasIndex("ExecutionStartTime")
                        .HasDatabaseName("IX_ReportExecutions_ExecutionStartTime_Active")
                        .HasFilter("[IsDeleted] = 0");

                    b.HasIndex("IsScheduled");

                    b.HasIndex("ReportConfigId");

                    b.HasIndex("Status");

                    b.HasIndex("ReportConfigId", "Status");

                    b.ToTable("ReportExecutions", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportSchedule", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<int?>("DayOfMonth")
                        .HasColumnType("INTEGER");

                    b.Property<int?>("DayOfWeek")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Frequency")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsEnabled")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastRunDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("NextRunDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ReportConfigId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Time")
                        .HasMaxLength(10)
                        .HasColumnType("TEXT");

                    b.Property<string>("Timezone")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("IsEnabled");

                    b.HasIndex("NextRunDate")
                        .HasFilter("[IsEnabled] = 1 AND [IsDeleted] = 0");

                    b.HasIndex("ReportConfigId");

                    b.HasIndex("Frequency", "IsEnabled");

                    b.ToTable("ReportSchedules", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.RiskReport", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<int>("ActivePositions")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ContentType")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("EmailRecipients")
                        .HasColumnType("TEXT");

                    b.Property<string>("FilePath")
                        .HasColumnType("TEXT");

                    b.Property<int>("FileSizeBytes")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("GeneratedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("GeneratedBy")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsAutoGenerated")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("LargestSingleExposure")
                        .HasColumnType("TEXT");

                    b.Property<string>("NextScheduledDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("OpenLimitBreaches")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("PortfolioVaR95")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("PortfolioVaR99")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ReportDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("ReportName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ReportType")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("TotalExposure")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.ToTable("RiskReports");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.RiskReportSection", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ChartData")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContentJson")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<int>("RiskReportId")
                        .HasColumnType("INTEGER");

                    b.Property<Guid>("RiskReportId1")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<string>("SectionName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("SectionType")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("SortOrder")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("RiskReportId1");

                    b.ToTable("RiskReportSection");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.RuleExecutionRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<int>("ActionsExecuted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<string>("AffectedSettlementIds")
                        .HasColumnType("TEXT");

                    b.Property<int>("ConditionsEvaluated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("DetailedLog")
                        .HasMaxLength(5000)
                        .HasColumnType("TEXT");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<int?>("ExecutionDurationMs")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("ExecutionEndTime")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("ExecutionStartTime")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("RuleId")
                        .HasColumnType("TEXT");

                    b.Property<int>("SettlementCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("TriggerSource")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ExecutionStartTime")
                        .HasDatabaseName("IX_ExecutionStartTime");

                    b.HasIndex("RuleId")
                        .HasDatabaseName("IX_ExecutionRuleId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ExecutionStatus");

                    b.HasIndex("RuleId", "ExecutionStartTime")
                        .HasDatabaseName("IX_RuleExecutionTime");

                    b.ToTable("RuleExecutionRecords", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SalesContract", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<int>("ContractType")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int?>("CreditPeriodDays")
                        .HasColumnType("INTEGER");

                    b.Property<string>("DealReferenceId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<int>("DeliveryTerms")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("DischargePort")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExternalContractNumber")
                        .HasMaxLength(100)
                        .IsUnicode(true)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("FixedPercentage")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<decimal>("FixedQuantity")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<string>("Incoterms")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("InspectionAgency")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPriceFinalized")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastPricingDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LaycanEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LaycanStart")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("LinkedPurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("LoadPort")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<string>("PaymentTerms")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("PrepaymentPercentage")
                        .HasPrecision(5, 2)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PriceBenchmarkId")
                        .HasColumnType("TEXT");

                    b.Property<int?>("PriceSource")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("PricingPeriodEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingPeriodStart")
                        .HasColumnType("TEXT");

                    b.Property<int>("PricingStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<Guid>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<string>("QualitySpecifications")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<int>("SettlementType")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("TonBarrelRatio")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(8, 4)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(7.6m);

                    b.Property<Guid?>("TradeGroupId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TraderId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TradingPartnerId")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("UnfixedQuantity")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_SalesContracts_CreatedAt");

                    b.HasIndex("DealReferenceId")
                        .HasDatabaseName("IX_SalesContracts_DealReferenceId");

                    b.HasIndex("ExternalContractNumber")
                        .HasDatabaseName("IX_SalesContracts_ExternalContractNumber");

                    b.HasIndex("LinkedPurchaseContractId")
                        .HasDatabaseName("IX_SalesContracts_LinkedPurchaseContractId");

                    b.HasIndex("PriceBenchmarkId");

                    b.HasIndex("PricingStatus")
                        .HasDatabaseName("IX_SalesContracts_PricingStatus");

                    b.HasIndex("ProductId")
                        .HasDatabaseName("IX_SalesContracts_ProductId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_SalesContracts_Status");

                    b.HasIndex("TradeGroupId");

                    b.HasIndex("TraderId")
                        .HasDatabaseName("IX_SalesContracts_TraderId");

                    b.HasIndex("TradingPartnerId")
                        .HasDatabaseName("IX_SalesContracts_TradingPartnerId");

                    b.HasIndex("DealReferenceId", "Status")
                        .HasDatabaseName("IX_SalesContracts_DealReferenceId_Status");

                    b.HasIndex("LaycanStart", "LaycanEnd")
                        .HasDatabaseName("IX_SalesContracts_LaycanDates");

                    b.HasIndex("ProductId", "LaycanEnd")
                        .HasDatabaseName("IX_SalesContracts_Product_Delivery");

                    b.HasIndex("Status", "CreatedAt")
                        .HasDatabaseName("IX_SalesContracts_Status_CreatedAt");

                    b.HasIndex("TradingPartnerId", "Status")
                        .HasDatabaseName("IX_SalesContracts_Customer_Status");

                    b.ToTable("SalesContracts", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SalesSettlement", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ActualQuantityBBL")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ActualQuantityMT")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("AdjustmentAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("AmendmentReason")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("AmendmentType")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<decimal>("BenchmarkAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("BenchmarkPrice")
                        .HasPrecision(18, 4)
                        .HasColumnType("TEXT");

                    b.Property<string>("BenchmarkPriceCurrency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<string>("BenchmarkPriceFormula")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CalculationQuantityBBL")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CalculationQuantityMT")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CargoValue")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DealReferenceId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("DocumentDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DocumentNumber")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("DocumentType")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("ExchangeRate")
                        .HasPrecision(10, 6)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExchangeRateNote")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ExternalContractNumber")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("FinalizedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("FinalizedDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsFinalized")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsLatestVersion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LastModifiedDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("OriginalSettlementId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PreviousSettlementId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingEndDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("PricingStartDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("QuantityCalculationNote")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<Guid>("SalesContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("SettlementCurrency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<int>("SettlementSequence")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("SupersededDate")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalCharges")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalSettlementAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedDate")
                        .HasDatabaseName("IX_SalesSettlements_CreatedDate");

                    b.HasIndex("DealReferenceId")
                        .HasDatabaseName("IX_SalesSettlements_DealReferenceId");

                    b.HasIndex("DocumentDate")
                        .HasDatabaseName("IX_SalesSettlements_DocumentDate");

                    b.HasIndex("DocumentNumber")
                        .HasDatabaseName("IX_SalesSettlements_DocumentNumber");

                    b.HasIndex("ExternalContractNumber")
                        .HasDatabaseName("IX_SalesSettlements_ExternalContractNumber");

                    b.HasIndex("IsFinalized")
                        .HasDatabaseName("IX_SalesSettlements_IsFinalized");

                    b.HasIndex("IsLatestVersion")
                        .HasDatabaseName("IX_SalesSettlements_IsLatestVersion");

                    b.HasIndex("OriginalSettlementId")
                        .HasDatabaseName("IX_SalesSettlements_OriginalSettlementId");

                    b.HasIndex("PreviousSettlementId")
                        .HasDatabaseName("IX_SalesSettlements_PreviousSettlementId");

                    b.HasIndex("SalesContractId")
                        .HasDatabaseName("IX_SalesSettlements_SalesContractId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_SalesSettlements_Status");

                    b.HasIndex("IsFinalized", "CreatedDate")
                        .HasDatabaseName("IX_SalesSettlements_IsFinalized_CreatedDate");

                    b.HasIndex("OriginalSettlementId", "SettlementSequence")
                        .HasDatabaseName("IX_SalesSettlements_OriginalSettlementId_Sequence");

                    b.HasIndex("SalesContractId", "Status")
                        .HasDatabaseName("IX_SalesSettlements_SalesContractId_Status");

                    b.HasIndex("Status", "CreatedDate")
                        .HasDatabaseName("IX_SalesSettlements_Status_CreatedDate");

                    b.ToTable("SalesSettlements", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementAutomationRule", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DisabledDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("DisabledReason")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("ExecutionCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<int>("FailureCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<string>("GroupingDimension")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsEnabled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LastExecutedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("LastExecutionError")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<int?>("LastExecutionSettlementCount")
                        .HasColumnType("INTEGER");

                    b.Property<string>("LastModifiedBy")
                        .HasMaxLength(250)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LastModifiedDate")
                        .HasColumnType("TEXT");

                    b.Property<int?>("MaxSettlementsPerExecution")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<int>("OrchestrationStrategy")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("Priority")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("Normal");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("RuleType")
                        .HasColumnType("INTEGER");

                    b.Property<int>("RuleVersion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("ScheduleExpression")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<int>("Scope")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<string>("ScopeFilter")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(3);

                    b.Property<int>("SuccessCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<int>("Trigger")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedDate")
                        .HasDatabaseName("IX_CreatedDate");

                    b.HasIndex("IsEnabled");

                    b.HasIndex("LastExecutedDate")
                        .HasDatabaseName("IX_LastExecuted");

                    b.HasIndex("Name")
                        .IsUnique();

                    b.HasIndex("Status");

                    b.HasIndex("RuleType", "IsEnabled")
                        .HasDatabaseName("IX_RuleTypeEnabled");

                    b.ToTable("SettlementAutomationRules", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementCharge", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Amount")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<int>("ChargeType")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("IncurredDate")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<string>("ReferenceDocument")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("SettlementId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ChargeType")
                        .HasDatabaseName("IX_SettlementCharges_ChargeType");

                    b.HasIndex("CreatedDate")
                        .HasDatabaseName("IX_SettlementCharges_CreatedDate");

                    b.HasIndex("IncurredDate")
                        .HasDatabaseName("IX_SettlementCharges_IncurredDate");

                    b.HasIndex("SettlementId")
                        .HasDatabaseName("IX_SettlementCharges_SettlementId");

                    b.HasIndex("ChargeType", "CreatedDate")
                        .HasDatabaseName("IX_SettlementCharges_ChargeType_CreatedDate");

                    b.HasIndex("SettlementId", "ChargeType")
                        .HasDatabaseName("IX_SettlementCharges_SettlementId_ChargeType");

                    b.ToTable("SettlementCharges", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementRuleAction", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("ActionType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("NotificationTemplateId")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Parameters")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("RuleId")
                        .HasColumnType("TEXT");

                    b.Property<int>("SequenceNumber")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("StopOnFailure")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ActionType")
                        .HasDatabaseName("IX_ActionType");

                    b.HasIndex("RuleId", "SequenceNumber")
                        .HasDatabaseName("IX_RuleActionSequence");

                    b.ToTable("SettlementRuleActions", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementRuleCondition", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Field")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("GroupReference")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("LogicalOperator")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("AND");

                    b.Property<string>("OperatorType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("RuleId")
                        .HasColumnType("TEXT");

                    b.Property<int>("SequenceNumber")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Value")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("RuleId", "SequenceNumber")
                        .HasDatabaseName("IX_RuleConditionSequence");

                    b.ToTable("SettlementRuleConditions", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementTemplate", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("CreatedByUserId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsPublic")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastUsedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<string>("TemplateConfiguration")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("TimesUsed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<int>("Version")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(1);

                    b.HasKey("Id");

                    b.HasIndex("CreatedByUserId")
                        .HasDatabaseName("IX_SettlementTemplates_CreatedByUserId");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_SettlementTemplates_IsActive");

                    b.HasIndex("IsPublic")
                        .HasDatabaseName("IX_SettlementTemplates_IsPublic");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_SettlementTemplates_Name");

                    b.ToTable("SettlementTemplates", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementTemplatePermission", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("GrantedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("GrantedBy")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<int>("PermissionLevel")
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("UserId")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("PermissionLevel")
                        .HasDatabaseName("IX_SettlementTemplatePermissions_PermissionLevel");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_SettlementTemplatePermissions_UserId");

                    b.HasIndex("TemplateId", "UserId")
                        .IsUnique()
                        .HasDatabaseName("IX_SettlementTemplatePermissions_TemplateId_UserId");

                    b.ToTable("SettlementTemplatePermissions", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementTemplateUsage", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("AppliedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("AppliedBy")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("SettlementId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("AppliedAt")
                        .HasDatabaseName("IX_SettlementTemplateUsages_AppliedAt");

                    b.HasIndex("SettlementId")
                        .HasDatabaseName("IX_SettlementTemplateUsages_SettlementId");

                    b.HasIndex("TemplateId")
                        .HasDatabaseName("IX_SettlementTemplateUsages_TemplateId");

                    b.ToTable("SettlementTemplateUsages", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ShippingOperation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("BillOfLadingDate")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("CertificateOfDischargeDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("ChartererName")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("DealReferenceId")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("DischargePort")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DischargePortATA")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("DischargePortETA")
                        .HasColumnType("TEXT");

                    b.Property<string>("IMONumber")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsSplit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false);

                    b.Property<string>("LoadPort")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("LoadPortATA")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("LoadPortETA")
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("NoticeOfReadinessDate")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("ParentShippingOperationId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValue(new byte[] { 0 });

                    b.Property<Guid?>("SalesContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ShippingAgent")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<string>("ShippingNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("SplitReasonNotes")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int?>("SplitReasonType")
                        .HasColumnType("INTEGER");

                    b.Property<int>("SplitSequence")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0);

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("VesselCapacity")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT");

                    b.Property<string>("VesselName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractId")
                        .HasDatabaseName("IX_ShippingOperations_ContractId");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_ShippingOperations_CreatedAt");

                    b.HasIndex("DealReferenceId")
                        .HasDatabaseName("IX_ShippingOperations_DealReferenceId");

                    b.HasIndex("IsSplit")
                        .HasDatabaseName("IX_ShippingOperations_IsSplit");

                    b.HasIndex("ParentShippingOperationId")
                        .HasDatabaseName("IX_ShippingOperations_ParentShippingOperationId");

                    b.HasIndex("PurchaseContractId");

                    b.HasIndex("SalesContractId");

                    b.HasIndex("ShippingNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_ShippingOperations_ShippingNumber");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ShippingOperations_Status");

                    b.HasIndex("VesselName")
                        .HasDatabaseName("IX_ShippingOperations_VesselName");

                    b.HasIndex("DischargePort", "DischargePortETA")
                        .HasDatabaseName("IX_ShippingOperations_Port_Discharge");

                    b.HasIndex("LoadPort", "LoadPortETA")
                        .HasDatabaseName("IX_ShippingOperations_Port_Loading");

                    b.HasIndex("LoadPortETA", "DischargePortETA")
                        .HasDatabaseName("IX_ShippingOperations_Schedule");

                    b.HasIndex("ParentShippingOperationId", "SplitSequence")
                        .HasDatabaseName("IX_ShippingOperations_ParentId_SplitSequence");

                    b.HasIndex("VesselName", "Status")
                        .HasDatabaseName("IX_ShippingOperations_Vessel_Status");

                    b.ToTable("ShippingOperations", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.Tag", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("AllowedContractStatuses")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT")
                        .HasColumnName("AllowedContractStatuses");

                    b.Property<int>("Category")
                        .HasColumnType("INTEGER")
                        .HasColumnName("Category");

                    b.Property<string>("Color")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(7)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("#6B7280")
                        .HasColumnName("Color");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("CreatedAt");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT")
                        .HasColumnName("Description");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true)
                        .HasColumnName("IsActive");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastUsedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("LastUsedAt");

                    b.Property<int?>("MaxUsagePerEntity")
                        .HasColumnType("INTEGER")
                        .HasColumnName("MaxUsagePerEntity");

                    b.Property<string>("MutuallyExclusiveTags")
                        .HasMaxLength(1000)
                        .HasColumnType("TEXT")
                        .HasColumnName("MutuallyExclusiveTags");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("Name");

                    b.Property<int>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0)
                        .HasColumnName("Priority");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("UpdatedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("UpdatedBy");

                    b.Property<int>("UsageCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0)
                        .HasColumnName("UsageCount");

                    b.HasKey("Id");

                    b.HasIndex("Category")
                        .HasDatabaseName("IX_Tags_Category");

                    b.HasIndex("LastUsedAt")
                        .HasDatabaseName("IX_Tags_LastUsedAt");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("IX_Tags_Name");

                    b.HasIndex("UsageCount")
                        .HasDatabaseName("IX_Tags_UsageCount");

                    b.HasIndex("Category", "IsActive")
                        .HasDatabaseName("IX_Tags_Category_IsActive");

                    b.ToTable("Tags", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TimeSeries.ContractEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("AdditionalData")
                        .IsRequired()
                        .HasColumnType("jsonb");

                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("EventDescription")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("EventType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("NewStatus")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("NewValue")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<string>("OldStatus")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal?>("OldValue")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamptz");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("UserName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ContractId")
                        .HasDatabaseName("IX_ContractEvents_ContractId");

                    b.HasIndex("EventType")
                        .HasDatabaseName("IX_ContractEvents_EventType");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_ContractEvents_UserId");

                    b.HasIndex("Timestamp", "ContractId")
                        .HasDatabaseName("IX_ContractEvents_Timestamp_ContractId");

                    b.ToTable("ContractEvents", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TimeSeries.MarketData", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Close")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<string>("DataSource")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Exchange")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("High")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("Low")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Open")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Price")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<string>("Symbol")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamptz");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Volume")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("Exchange")
                        .HasDatabaseName("IX_MarketData_Exchange");

                    b.HasIndex("Symbol")
                        .HasDatabaseName("IX_MarketData_Symbol");

                    b.HasIndex("Timestamp", "Symbol")
                        .HasDatabaseName("IX_MarketData_Timestamp_Symbol");

                    b.ToTable("MarketData", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TimeSeries.PriceIndex", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Change")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ChangePercent")
                        .HasPrecision(8, 4)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("TEXT")
                        .HasDefaultValue("USD");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Grade")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("IndexName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("Price")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<string>("Region")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamptz");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("IndexName")
                        .HasDatabaseName("IX_PriceIndex_IndexName");

                    b.HasIndex("Region")
                        .HasDatabaseName("IX_PriceIndex_Region");

                    b.HasIndex("Timestamp", "IndexName")
                        .HasDatabaseName("IX_PriceIndex_Timestamp_IndexName");

                    b.ToTable("PriceIndices", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradeChain", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ActualDeliveryEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ActualDeliveryStart")
                        .HasColumnType("TEXT");

                    b.Property<string>("ChainId")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("ChainName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("CustomerId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ExpectedDeliveryEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("ExpectedDeliveryStart")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Metadata")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PurchaseContractId")
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid?>("SalesContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("SupplierId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("TradeDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ChainId")
                        .IsUnique()
                        .HasDatabaseName("IX_TradingChains_ChainId");

                    b.HasIndex("CreatedBy")
                        .HasDatabaseName("IX_TradingChains_CreatedBy");

                    b.HasIndex("CustomerId")
                        .HasDatabaseName("IX_TradingChains_CustomerId");

                    b.HasIndex("ExpectedDeliveryEnd")
                        .HasDatabaseName("IX_TradingChains_ExpectedDeliveryEnd");

                    b.HasIndex("ExpectedDeliveryStart")
                        .HasDatabaseName("IX_TradingChains_ExpectedDeliveryStart");

                    b.HasIndex("ProductId")
                        .HasDatabaseName("IX_TradingChains_ProductId");

                    b.HasIndex("PurchaseContractId")
                        .HasDatabaseName("IX_TradingChains_PurchaseContractId");

                    b.HasIndex("SalesContractId")
                        .HasDatabaseName("IX_TradingChains_SalesContractId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_TradingChains_Status");

                    b.HasIndex("SupplierId")
                        .HasDatabaseName("IX_TradingChains_SupplierId");

                    b.HasIndex("TradeDate")
                        .HasDatabaseName("IX_TradingChains_TradeDate");

                    b.HasIndex("Type")
                        .HasDatabaseName("IX_TradingChains_Type");

                    b.HasIndex("CreatedAt", "Status")
                        .HasDatabaseName("IX_TradingChains_CreatedAt_Status");

                    b.HasIndex("CustomerId", "Status")
                        .HasDatabaseName("IX_TradingChains_CustomerId_Status");

                    b.HasIndex("ProductId", "TradeDate")
                        .HasDatabaseName("IX_TradingChains_ProductId_TradeDate");

                    b.HasIndex("Status", "Type")
                        .HasDatabaseName("IX_TradingChains_Status_Type");

                    b.HasIndex("SupplierId", "Status")
                        .HasDatabaseName("IX_TradingChains_SupplierId_Status");

                    b.ToTable("TradingChains", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradeGroup", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int?>("ExpectedRiskLevel")
                        .HasColumnType("INTEGER");

                    b.Property<string>("GroupName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("MaxAllowedLoss")
                        .HasColumnType("decimal(18,2)");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<int>("StrategyType")
                        .HasColumnType("INTEGER");

                    b.Property<decimal?>("TargetProfit")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_TradeGroups_CreatedAt");

                    b.HasIndex("GroupName")
                        .IsUnique()
                        .HasDatabaseName("IX_TradeGroups_GroupName");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_TradeGroups_Status");

                    b.HasIndex("StrategyType")
                        .HasDatabaseName("IX_TradeGroups_StrategyType");

                    b.ToTable("TradeGroups", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradeGroupTag", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("AssignedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("AssignedBy")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB");

                    b.Property<Guid>("TagId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("TagId1")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TradeGroupId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("AssignedAt")
                        .HasDatabaseName("IX_TradeGroupTags_AssignedAt");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_TradeGroupTags_IsActive");

                    b.HasIndex("TagId")
                        .HasDatabaseName("IX_TradeGroupTags_TagId");

                    b.HasIndex("TagId1");

                    b.HasIndex("TradeGroupId")
                        .HasDatabaseName("IX_TradeGroupTags_TradeGroupId");

                    b.HasIndex("TradeGroupId", "TagId")
                        .IsUnique()
                        .HasDatabaseName("IX_TradeGroupTags_TradeGroupId_TagId");

                    b.ToTable("TradeGroupTags", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradingPartner", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<string>("BlockReason")
                        .HasColumnType("TEXT");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("CompanyCode")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("CompanyName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContactEmail")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<string>("ContactInfo")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContactPerson")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContactPhone")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Country")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CreditLimit")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT")
                        .HasDefaultValue(0m);

                    b.Property<DateTime>("CreditLimitValidUntil")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreditRating")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("TEXT");

                    b.Property<decimal>("CurrentExposure")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsBlocked")
                        .HasColumnType("INTEGER");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastTransactionDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT");

                    b.Property<int>("PartnerType")
                        .HasColumnType("INTEGER");

                    b.Property<int>("PaymentTermDays")
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<string>("TaxId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("TaxNumber")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalPurchaseAmount")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalSalesAmount")
                        .HasColumnType("TEXT");

                    b.Property<int>("TotalTransactions")
                        .HasColumnType("INTEGER");

                    b.Property<int>("Type")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_TradingPartners_Code");

                    b.HasIndex("Country")
                        .HasDatabaseName("IX_TradingPartners_Country");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_TradingPartners_IsActive");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_TradingPartners_Name");

                    b.HasIndex("Type")
                        .HasDatabaseName("IX_TradingPartners_Type");

                    b.HasIndex("Country", "IsActive")
                        .HasDatabaseName("IX_TradingPartners_Country_Active");

                    b.HasIndex("CreditRating", "IsActive")
                        .HasDatabaseName("IX_TradingPartners_Rating_Active")
                        .HasFilter("CreditRating IS NOT NULL");

                    b.HasIndex("PartnerType", "IsActive")
                        .HasDatabaseName("IX_TradingPartners_Type_Active")
                        .HasAnnotation("Npgsql:IndexInclude", new[] { "Name", "Country", "CreditRating" });

                    b.ToTable("TradingPartners", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.User", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("DeletedBy")
                        .HasColumnType("TEXT");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("TEXT");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("LastLoginAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("TEXT");

                    b.Property<int>("Role")
                        .HasColumnType("INTEGER");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("BLOB")
                        .HasDefaultValueSql("X'00000000000000000000000000000001'");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("Email")
                        .IsUnique()
                        .HasDatabaseName("IX_Users_Email");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_Users_IsActive");

                    b.HasIndex("Role")
                        .HasDatabaseName("IX_Users_Role");

                    b.HasIndex("Email", "IsActive")
                        .IsUnique()
                        .HasDatabaseName("IX_Users_Email_Active")
                        .HasFilter("IsActive = 1");

                    b.HasIndex("FirstName", "LastName")
                        .HasDatabaseName("IX_Users_Name");

                    b.HasIndex("Role", "IsActive")
                        .HasDatabaseName("IX_Users_Role_Active2");

                    b.ToTable("Users", (string)null);
                });

            modelBuilder.Entity("OilTrading.Infrastructure.Data.Configurations.ContractSummaryView", b =>
                {
                    b.Property<Guid>("ContractId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNumber")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractType")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ContractValue")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("LaycanEnd")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("LaycanStart")
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<string>("SupplierName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("TraderName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.ToTable((string)null);

                    b.ToView("vw_ContractSummary", (string)null);
                });

            modelBuilder.Entity("OilTrading.Infrastructure.Data.Configurations.PriceAnalyticsView", b =>
                {
                    b.Property<decimal>("ClosePrice")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("Date")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("HighPrice")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("LowPrice")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("MovingAverage30")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("MovingAverage7")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("OpenPrice")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("TEXT");

                    b.Property<string>("ProductName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Volatility")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Volume")
                        .HasColumnType("TEXT");

                    b.ToTable((string)null);

                    b.ToView("vw_PriceAnalytics", (string)null);
                });

            modelBuilder.Entity("OilTrading.Infrastructure.Data.Configurations.RiskSummaryView", b =>
                {
                    b.Property<DateTime>("Date")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ExpectedShortfall95")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("ExpectedShortfall99")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("MaxDrawdown")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("PortfolioValue")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("VaR95")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("VaR99")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("Volatility")
                        .HasColumnType("TEXT");

                    b.ToTable((string)null);

                    b.ToView("vw_RiskSummary", (string)null);
                });

            modelBuilder.Entity("OilTrading.Infrastructure.Data.Configurations.TradingPerformanceView", b =>
                {
                    b.Property<int>("Month")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("ProfitLoss")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("SuccessRate")
                        .HasColumnType("TEXT");

                    b.Property<int>("TotalContracts")
                        .HasColumnType("INTEGER");

                    b.Property<decimal>("TotalValue")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("TotalVolume")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("TraderId")
                        .HasColumnType("TEXT");

                    b.Property<string>("TraderName")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("Year")
                        .HasColumnType("INTEGER");

                    b.ToTable((string)null);

                    b.ToView("vw_TradingPerformance", (string)null);
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractMatching", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany("ContractMatchings")
                        .HasForeignKey("PurchaseContractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany("ContractMatchings")
                        .HasForeignKey("SalesContractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("PurchaseContract");

                    b.Navigation("SalesContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractPricingEvent", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany()
                        .HasForeignKey("ContractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_contract_pricing_events_purchase_contract");

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany()
                        .HasForeignKey("ContractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_contract_pricing_events_sales_contract");

                    b.Navigation("PurchaseContract");

                    b.Navigation("SalesContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractSettlement", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.ContractSettlement", "OriginalSettlement")
                        .WithMany()
                        .HasForeignKey("OriginalSettlementId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.ContractSettlement", "PreviousSettlement")
                        .WithMany()
                        .HasForeignKey("PreviousSettlementId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("OriginalSettlement");

                    b.Navigation("PreviousSettlement");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractTag", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", null)
                        .WithMany("ContractTags")
                        .HasForeignKey("ContractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.SalesContract", null)
                        .WithMany("ContractTags")
                        .HasForeignKey("ContractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.Tag", "Tag")
                        .WithMany("ContractTags")
                        .HasForeignKey("TagId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Tag");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.DailyPrice", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PriceBenchmark", "Benchmark")
                        .WithMany("DailyPrices")
                        .HasForeignKey("BenchmarkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_daily_prices_benchmark");

                    b.Navigation("Benchmark");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.FinancialReport", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.TradingPartner", "TradingPartner")
                        .WithMany("FinancialReports")
                        .HasForeignKey("TradingPartnerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("TradingPartner");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.FuturesDeal", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PaperContract", "PaperContract")
                        .WithMany()
                        .HasForeignKey("PaperContractId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("PaperContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryLocation", b =>
                {
                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "AvailableCapacity", b1 =>
                        {
                            b1.Property<Guid>("InventoryLocationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("AvailableCapacityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("AvailableCapacity");

                            b1.HasKey("InventoryLocationId");

                            b1.ToTable("InventoryLocations");

                            b1.WithOwner()
                                .HasForeignKey("InventoryLocationId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "TotalCapacity", b1 =>
                        {
                            b1.Property<Guid>("InventoryLocationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("TotalCapacityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("TotalCapacity");

                            b1.HasKey("InventoryLocationId");

                            b1.ToTable("InventoryLocations");

                            b1.WithOwner()
                                .HasForeignKey("InventoryLocationId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "UsedCapacity", b1 =>
                        {
                            b1.Property<Guid>("InventoryLocationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("UsedCapacityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("UsedCapacity");

                            b1.HasKey("InventoryLocationId");

                            b1.ToTable("InventoryLocations");

                            b1.WithOwner()
                                .HasForeignKey("InventoryLocationId");
                        });

                    b.Navigation("AvailableCapacity")
                        .IsRequired();

                    b.Navigation("TotalCapacity")
                        .IsRequired();

                    b.Navigation("UsedCapacity")
                        .IsRequired();
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryMovement", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.InventoryPosition", null)
                        .WithMany("OutgoingMovements")
                        .HasForeignKey("FromInventoryPositionId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.InventoryLocation", "FromLocation")
                        .WithMany("Movements")
                        .HasForeignKey("FromLocationId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.Product", "Product")
                        .WithMany()
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany()
                        .HasForeignKey("PurchaseContractId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany()
                        .HasForeignKey("SalesContractId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.ShippingOperation", "ShippingOperation")
                        .WithMany()
                        .HasForeignKey("ShippingOperationId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.InventoryPosition", null)
                        .WithMany("IncomingMovements")
                        .HasForeignKey("ToInventoryPositionId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.InventoryLocation", "ToLocation")
                        .WithMany()
                        .HasForeignKey("ToLocationId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "HandlingCost", b1 =>
                        {
                            b1.Property<Guid>("InventoryMovementId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("HandlingCost");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("HandlingCostCurrency");

                            b1.HasKey("InventoryMovementId");

                            b1.ToTable("InventoryMovements");

                            b1.WithOwner()
                                .HasForeignKey("InventoryMovementId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "Quantity", b1 =>
                        {
                            b1.Property<Guid>("InventoryMovementId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("QuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("Quantity");

                            b1.HasKey("InventoryMovementId");

                            b1.ToTable("InventoryMovements");

                            b1.WithOwner()
                                .HasForeignKey("InventoryMovementId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "TotalCost", b1 =>
                        {
                            b1.Property<Guid>("InventoryMovementId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("TotalCost");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("TotalCostCurrency");

                            b1.HasKey("InventoryMovementId");

                            b1.ToTable("InventoryMovements");

                            b1.WithOwner()
                                .HasForeignKey("InventoryMovementId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "TransportCost", b1 =>
                        {
                            b1.Property<Guid>("InventoryMovementId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("TransportCost");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("TransportCostCurrency");

                            b1.HasKey("InventoryMovementId");

                            b1.ToTable("InventoryMovements");

                            b1.WithOwner()
                                .HasForeignKey("InventoryMovementId");
                        });

                    b.Navigation("FromLocation");

                    b.Navigation("HandlingCost");

                    b.Navigation("Product");

                    b.Navigation("PurchaseContract");

                    b.Navigation("Quantity")
                        .IsRequired();

                    b.Navigation("SalesContract");

                    b.Navigation("ShippingOperation");

                    b.Navigation("ToLocation");

                    b.Navigation("TotalCost");

                    b.Navigation("TransportCost");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryPosition", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.InventoryLocation", "Location")
                        .WithMany("Inventories")
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.Product", "Product")
                        .WithMany()
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "AverageCost", b1 =>
                        {
                            b1.Property<Guid>("InventoryPositionId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("AverageCost");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("Currency");

                            b1.HasKey("InventoryPositionId");

                            b1.ToTable("InventoryPositions");

                            b1.WithOwner()
                                .HasForeignKey("InventoryPositionId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "Quantity", b1 =>
                        {
                            b1.Property<Guid>("InventoryPositionId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("QuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 2)
                                .HasColumnType("TEXT")
                                .HasColumnName("Quantity");

                            b1.HasKey("InventoryPositionId");

                            b1.ToTable("InventoryPositions");

                            b1.WithOwner()
                                .HasForeignKey("InventoryPositionId");
                        });

                    b.Navigation("AverageCost")
                        .IsRequired();

                    b.Navigation("Location");

                    b.Navigation("Product");

                    b.Navigation("Quantity")
                        .IsRequired();
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryReservation", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany()
                        .HasForeignKey("ContractId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany()
                        .HasForeignKey("ContractId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "Quantity", b1 =>
                        {
                            b1.Property<Guid>("InventoryReservationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("QuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("Quantity");

                            b1.HasKey("InventoryReservationId");

                            b1.ToTable("InventoryReservations");

                            b1.WithOwner()
                                .HasForeignKey("InventoryReservationId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "ReleasedQuantity", b1 =>
                        {
                            b1.Property<Guid>("InventoryReservationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("ReleasedQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("ReleasedQuantity");

                            b1.HasKey("InventoryReservationId");

                            b1.ToTable("InventoryReservations");

                            b1.WithOwner()
                                .HasForeignKey("InventoryReservationId");
                        });

                    b.Navigation("PurchaseContract");

                    b.Navigation("Quantity")
                        .IsRequired();

                    b.Navigation("ReleasedQuantity")
                        .IsRequired();

                    b.Navigation("SalesContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PaperContract", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.TradeGroup", "TradeGroup")
                        .WithMany("PaperContracts")
                        .HasForeignKey("TradeGroupId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("TradeGroup");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.Payment", b =>
                {
                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "Amount", b1 =>
                        {
                            b1.Property<Guid>("PaymentId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("Amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("Currency");

                            b1.HasKey("PaymentId");

                            b1.ToTable("Payments");

                            b1.WithOwner()
                                .HasForeignKey("PaymentId");
                        });

                    b.OwnsOne("OilTrading.Core.Entities.BankAccount", "PayeeAccount", b1 =>
                        {
                            b1.Property<Guid>("PaymentId")
                                .HasColumnType("TEXT");

                            b1.Property<string>("AccountHolderName")
                                .IsRequired()
                                .HasMaxLength(200)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeAccountHolderName");

                            b1.Property<string>("AccountNumber")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeAccountNumber");

                            b1.Property<string>("BankName")
                                .IsRequired()
                                .HasMaxLength(200)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeBankName");

                            b1.Property<string>("BranchCode")
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeBranchCode");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .ValueGeneratedOnAdd()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasDefaultValue("USD")
                                .HasColumnName("PayeeCurrency");

                            b1.Property<string>("IBAN")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeIBAN");

                            b1.Property<string>("RoutingNumber")
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeRoutingNumber");

                            b1.Property<string>("SwiftCode")
                                .IsRequired()
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayeeSwiftCode");

                            b1.HasKey("PaymentId");

                            b1.ToTable("Payments");

                            b1.WithOwner()
                                .HasForeignKey("PaymentId");
                        });

                    b.OwnsOne("OilTrading.Core.Entities.BankAccount", "PayerAccount", b1 =>
                        {
                            b1.Property<Guid>("PaymentId")
                                .HasColumnType("TEXT");

                            b1.Property<string>("AccountHolderName")
                                .IsRequired()
                                .HasMaxLength(200)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerAccountHolderName");

                            b1.Property<string>("AccountNumber")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerAccountNumber");

                            b1.Property<string>("BankName")
                                .IsRequired()
                                .HasMaxLength(200)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerBankName");

                            b1.Property<string>("BranchCode")
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerBranchCode");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .ValueGeneratedOnAdd()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasDefaultValue("USD")
                                .HasColumnName("PayerCurrency");

                            b1.Property<string>("IBAN")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerIBAN");

                            b1.Property<string>("RoutingNumber")
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerRoutingNumber");

                            b1.Property<string>("SwiftCode")
                                .IsRequired()
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PayerSwiftCode");

                            b1.HasKey("PaymentId");

                            b1.ToTable("Payments");

                            b1.WithOwner()
                                .HasForeignKey("PaymentId");
                        });

                    b.Navigation("Amount")
                        .IsRequired();

                    b.Navigation("PayeeAccount");

                    b.Navigation("PayerAccount");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PaymentRiskAlert", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.TradingPartner", "TradingPartner")
                        .WithMany("PaymentRiskAlerts")
                        .HasForeignKey("TradingPartnerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("TradingPartner");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PhysicalContract", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.TradingPartner", "TradingPartner")
                        .WithMany("PhysicalContracts")
                        .HasForeignKey("TradingPartnerId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("TradingPartner");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PricingEvent", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany("PricingEvents")
                        .HasForeignKey("PurchaseContractId");

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany("PricingEvents")
                        .HasForeignKey("SalesContractId");

                    b.HasOne("OilTrading.Core.Entities.ShippingOperation", null)
                        .WithMany("PricingEvents")
                        .HasForeignKey("ShippingOperationId");

                    b.Navigation("PurchaseContract");

                    b.Navigation("SalesContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PurchaseContract", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "BenchmarkContract")
                        .WithMany()
                        .HasForeignKey("BenchmarkContractId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("FK_PurchaseContracts_BenchmarkContract");

                    b.HasOne("OilTrading.Core.Entities.PriceBenchmark", "PriceBenchmark")
                        .WithMany()
                        .HasForeignKey("PriceBenchmarkId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("FK_PurchaseContracts_PriceBenchmark");

                    b.HasOne("OilTrading.Core.Entities.Product", "Product")
                        .WithMany("PurchaseContracts")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseContracts_Products");

                    b.HasOne("OilTrading.Core.Entities.TradeGroup", "TradeGroup")
                        .WithMany("PurchaseContracts")
                        .HasForeignKey("TradeGroupId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.User", "Trader")
                        .WithMany("PurchaseContracts")
                        .HasForeignKey("TraderId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseContracts_Users");

                    b.HasOne("OilTrading.Core.Entities.TradingPartner", "TradingPartner")
                        .WithMany("PurchaseContracts")
                        .HasForeignKey("TradingPartnerId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseContracts_TradingPartners");

                    b.OwnsOne("OilTrading.Core.ValueObjects.ContractNumber", "ContractNumber", b1 =>
                        {
                            b1.Property<Guid>("PurchaseContractId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("SerialNumber")
                                .HasColumnType("INTEGER");

                            b1.Property<int>("Type")
                                .HasColumnType("INTEGER");

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractNumber");

                            b1.Property<string>("Year")
                                .IsRequired()
                                .HasColumnType("TEXT");

                            b1.HasKey("PurchaseContractId");

                            b1.HasIndex("Value")
                                .IsUnique()
                                .HasDatabaseName("IX_PurchaseContracts_ContractNumber");

                            b1.ToTable("PurchaseContracts");

                            b1.WithOwner()
                                .HasForeignKey("PurchaseContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "ContractQuantity", b1 =>
                        {
                            b1.Property<Guid>("PurchaseContractId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("ContractQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractQuantity");

                            b1.HasKey("PurchaseContractId");

                            b1.ToTable("PurchaseContracts");

                            b1.WithOwner()
                                .HasForeignKey("PurchaseContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "ContractValue", b1 =>
                        {
                            b1.Property<Guid>("PurchaseContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractValue");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractValueCurrency");

                            b1.HasKey("PurchaseContractId");

                            b1.ToTable("PurchaseContracts");

                            b1.WithOwner()
                                .HasForeignKey("PurchaseContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "Discount", b1 =>
                        {
                            b1.Property<Guid>("PurchaseContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("Discount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("DiscountCurrency");

                            b1.HasKey("PurchaseContractId");

                            b1.ToTable("PurchaseContracts");

                            b1.WithOwner()
                                .HasForeignKey("PurchaseContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "Premium", b1 =>
                        {
                            b1.Property<Guid>("PurchaseContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("Premium");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("PremiumCurrency");

                            b1.HasKey("PurchaseContractId");

                            b1.ToTable("PurchaseContracts");

                            b1.WithOwner()
                                .HasForeignKey("PurchaseContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.PriceFormula", "PriceFormula", b1 =>
                        {
                            b1.Property<Guid>("PurchaseContractId")
                                .HasColumnType("TEXT");

                            b1.Property<int?>("AdjustmentUnit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("AdjustmentUnit");

                            b1.Property<int?>("BenchmarkUnit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("BenchmarkUnit");

                            b1.Property<int>("CalculationMode")
                                .HasColumnType("INTEGER")
                                .HasColumnName("CalculationMode");

                            b1.Property<decimal?>("ContractualConversionRatio")
                                .HasPrecision(10, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractualConversionRatio");

                            b1.Property<string>("Currency")
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceCurrency");

                            b1.Property<decimal?>("FixedPrice")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("FixedPrice");

                            b1.Property<string>("Formula")
                                .IsRequired()
                                .HasMaxLength(500)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceFormula");

                            b1.Property<string>("IndexName")
                                .HasMaxLength(100)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceIndexName");

                            b1.Property<int>("Method")
                                .HasColumnType("INTEGER")
                                .HasColumnName("PricingMethod");

                            b1.Property<int?>("PricingDays")
                                .HasColumnType("INTEGER")
                                .HasColumnName("PricingDays");

                            b1.Property<DateTime?>("PricingPeriodEnd")
                                .HasColumnType("TEXT")
                                .HasColumnName("FormulaPricingEnd");

                            b1.Property<DateTime?>("PricingPeriodStart")
                                .HasColumnType("TEXT")
                                .HasColumnName("FormulaPricingStart");

                            b1.Property<string>("Unit")
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceUnit");

                            b1.HasKey("PurchaseContractId");

                            b1.ToTable("PurchaseContracts");

                            b1.WithOwner()
                                .HasForeignKey("PurchaseContractId");

                            b1.OwnsOne("OilTrading.Core.ValueObjects.Money", "Adjustment", b2 =>
                                {
                                    b2.Property<Guid>("PriceFormulaPurchaseContractId")
                                        .HasColumnType("TEXT");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 4)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaAdjustment");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaAdjustmentCurrency");

                                    b2.HasKey("PriceFormulaPurchaseContractId");

                                    b2.ToTable("PurchaseContracts");

                                    b2.WithOwner()
                                        .HasForeignKey("PriceFormulaPurchaseContractId");
                                });

                            b1.OwnsOne("OilTrading.Core.ValueObjects.Money", "Discount", b2 =>
                                {
                                    b2.Property<Guid>("PriceFormulaPurchaseContractId")
                                        .HasColumnType("TEXT");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 4)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaDiscount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaDiscountCurrency");

                                    b2.HasKey("PriceFormulaPurchaseContractId");

                                    b2.ToTable("PurchaseContracts");

                                    b2.WithOwner()
                                        .HasForeignKey("PriceFormulaPurchaseContractId");
                                });

                            b1.OwnsOne("OilTrading.Core.ValueObjects.Money", "Premium", b2 =>
                                {
                                    b2.Property<Guid>("PriceFormulaPurchaseContractId")
                                        .HasColumnType("TEXT");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 4)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaPremium");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaPremiumCurrency");

                                    b2.HasKey("PriceFormulaPurchaseContractId");

                                    b2.ToTable("PurchaseContracts");

                                    b2.WithOwner()
                                        .HasForeignKey("PriceFormulaPurchaseContractId");
                                });

                            b1.Navigation("Adjustment");

                            b1.Navigation("Discount");

                            b1.Navigation("Premium");
                        });

                    b.Navigation("BenchmarkContract");

                    b.Navigation("ContractNumber")
                        .IsRequired();

                    b.Navigation("ContractQuantity")
                        .IsRequired();

                    b.Navigation("ContractValue");

                    b.Navigation("Discount");

                    b.Navigation("Premium");

                    b.Navigation("PriceBenchmark");

                    b.Navigation("PriceFormula");

                    b.Navigation("Product");

                    b.Navigation("TradeGroup");

                    b.Navigation("Trader");

                    b.Navigation("TradingPartner");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PurchaseSettlement", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseSettlement", "OriginalSettlement")
                        .WithMany()
                        .HasForeignKey("OriginalSettlementId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.PurchaseSettlement", "PreviousSettlement")
                        .WithMany()
                        .HasForeignKey("PreviousSettlementId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany("PurchaseSettlements")
                        .HasForeignKey("PurchaseContractId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseSettlements_PurchaseContracts");

                    b.Navigation("OriginalSettlement");

                    b.Navigation("PreviousSettlement");

                    b.Navigation("PurchaseContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportArchive", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.ReportExecution", "ReportExecution")
                        .WithMany()
                        .HasForeignKey("ExecutionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ReportExecution");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportConfiguration", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.User", "CreatedByUser")
                        .WithMany()
                        .HasForeignKey("CreatedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.User", "UpdatedByUser")
                        .WithMany()
                        .HasForeignKey("UpdatedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("CreatedByUser");

                    b.Navigation("UpdatedByUser");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportDistribution", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.ReportConfiguration", "ReportConfig")
                        .WithMany("Distributions")
                        .HasForeignKey("ReportConfigId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ReportConfig");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportExecution", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.User", "ExecutedByUser")
                        .WithMany()
                        .HasForeignKey("ExecutedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.ReportConfiguration", "ReportConfig")
                        .WithMany("Executions")
                        .HasForeignKey("ReportConfigId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ExecutedByUser");

                    b.Navigation("ReportConfig");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportSchedule", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.ReportConfiguration", "ReportConfig")
                        .WithMany("Schedules")
                        .HasForeignKey("ReportConfigId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ReportConfig");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.RiskReportSection", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.RiskReport", "RiskReport")
                        .WithMany("Sections")
                        .HasForeignKey("RiskReportId1")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("RiskReport");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.RuleExecutionRecord", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.SettlementAutomationRule", null)
                        .WithMany("ExecutionHistory")
                        .HasForeignKey("RuleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SalesContract", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "LinkedPurchaseContract")
                        .WithMany("LinkedSalesContracts")
                        .HasForeignKey("LinkedPurchaseContractId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("FK_SalesContracts_PurchaseContracts");

                    b.HasOne("OilTrading.Core.Entities.PriceBenchmark", "PriceBenchmark")
                        .WithMany()
                        .HasForeignKey("PriceBenchmarkId");

                    b.HasOne("OilTrading.Core.Entities.Product", "Product")
                        .WithMany("SalesContracts")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_SalesContracts_Products");

                    b.HasOne("OilTrading.Core.Entities.TradeGroup", "TradeGroup")
                        .WithMany("SalesContracts")
                        .HasForeignKey("TradeGroupId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OilTrading.Core.Entities.User", "Trader")
                        .WithMany("SalesContracts")
                        .HasForeignKey("TraderId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_SalesContracts_Users");

                    b.HasOne("OilTrading.Core.Entities.TradingPartner", "TradingPartner")
                        .WithMany("SalesContracts")
                        .HasForeignKey("TradingPartnerId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_SalesContracts_TradingPartners");

                    b.OwnsOne("OilTrading.Core.ValueObjects.ContractNumber", "ContractNumber", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("SerialNumber")
                                .HasColumnType("INTEGER");

                            b1.Property<int>("Type")
                                .HasColumnType("INTEGER");

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractNumber");

                            b1.Property<string>("Year")
                                .IsRequired()
                                .HasColumnType("TEXT");

                            b1.HasKey("SalesContractId");

                            b1.HasIndex("Value")
                                .IsUnique()
                                .HasDatabaseName("IX_SalesContracts_ContractNumber");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "ContractQuantity", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("ContractQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractQuantity");

                            b1.HasKey("SalesContractId");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "ContractValue", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractValue");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractValueCurrency");

                            b1.HasKey("SalesContractId");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "Discount", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("Discount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("DiscountCurrency");

                            b1.HasKey("SalesContractId");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "Premium", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("Premium");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("PremiumCurrency");

                            b1.HasKey("SalesContractId");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.PriceFormula", "PriceFormula", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<int?>("AdjustmentUnit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("AdjustmentUnit");

                            b1.Property<int?>("BenchmarkUnit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("BenchmarkUnit");

                            b1.Property<int>("CalculationMode")
                                .HasColumnType("INTEGER")
                                .HasColumnName("CalculationMode");

                            b1.Property<decimal?>("ContractualConversionRatio")
                                .HasPrecision(10, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("ContractualConversionRatio");

                            b1.Property<string>("Currency")
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceCurrency");

                            b1.Property<decimal?>("FixedPrice")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("FixedPrice");

                            b1.Property<string>("Formula")
                                .IsRequired()
                                .HasMaxLength(500)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceFormula");

                            b1.Property<string>("IndexName")
                                .HasMaxLength(100)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceIndexName");

                            b1.Property<int>("Method")
                                .HasColumnType("INTEGER")
                                .HasColumnName("PricingMethod");

                            b1.Property<int?>("PricingDays")
                                .HasColumnType("INTEGER")
                                .HasColumnName("PricingDays");

                            b1.Property<DateTime?>("PricingPeriodEnd")
                                .HasColumnType("TEXT")
                                .HasColumnName("FormulaPricingEnd");

                            b1.Property<DateTime?>("PricingPeriodStart")
                                .HasColumnType("TEXT")
                                .HasColumnName("FormulaPricingStart");

                            b1.Property<string>("Unit")
                                .HasMaxLength(20)
                                .HasColumnType("TEXT")
                                .HasColumnName("PriceUnit");

                            b1.HasKey("SalesContractId");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");

                            b1.OwnsOne("OilTrading.Core.ValueObjects.Money", "Adjustment", b2 =>
                                {
                                    b2.Property<Guid>("PriceFormulaSalesContractId")
                                        .HasColumnType("TEXT");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 4)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaAdjustment");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaAdjustmentCurrency");

                                    b2.HasKey("PriceFormulaSalesContractId");

                                    b2.ToTable("SalesContracts");

                                    b2.WithOwner()
                                        .HasForeignKey("PriceFormulaSalesContractId");
                                });

                            b1.OwnsOne("OilTrading.Core.ValueObjects.Money", "Discount", b2 =>
                                {
                                    b2.Property<Guid>("PriceFormulaSalesContractId")
                                        .HasColumnType("TEXT");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 4)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaDiscount");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaDiscountCurrency");

                                    b2.HasKey("PriceFormulaSalesContractId");

                                    b2.ToTable("SalesContracts");

                                    b2.WithOwner()
                                        .HasForeignKey("PriceFormulaSalesContractId");
                                });

                            b1.OwnsOne("OilTrading.Core.ValueObjects.Money", "Premium", b2 =>
                                {
                                    b2.Property<Guid>("PriceFormulaSalesContractId")
                                        .HasColumnType("TEXT");

                                    b2.Property<decimal>("Amount")
                                        .HasPrecision(18, 4)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaPremium");

                                    b2.Property<string>("Currency")
                                        .IsRequired()
                                        .HasMaxLength(3)
                                        .HasColumnType("TEXT")
                                        .HasColumnName("FormulaPremiumCurrency");

                                    b2.HasKey("PriceFormulaSalesContractId");

                                    b2.ToTable("SalesContracts");

                                    b2.WithOwner()
                                        .HasForeignKey("PriceFormulaSalesContractId");
                                });

                            b1.Navigation("Adjustment");

                            b1.Navigation("Discount");

                            b1.Navigation("Premium");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "ProfitMargin", b1 =>
                        {
                            b1.Property<Guid>("SalesContractId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("ProfitMargin");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("ProfitMarginCurrency");

                            b1.HasKey("SalesContractId");

                            b1.ToTable("SalesContracts");

                            b1.WithOwner()
                                .HasForeignKey("SalesContractId");
                        });

                    b.Navigation("ContractNumber")
                        .IsRequired();

                    b.Navigation("ContractQuantity")
                        .IsRequired();

                    b.Navigation("ContractValue");

                    b.Navigation("Discount");

                    b.Navigation("LinkedPurchaseContract");

                    b.Navigation("Premium");

                    b.Navigation("PriceBenchmark");

                    b.Navigation("PriceFormula");

                    b.Navigation("Product");

                    b.Navigation("ProfitMargin");

                    b.Navigation("TradeGroup");

                    b.Navigation("Trader");

                    b.Navigation("TradingPartner");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SalesSettlement", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.SalesSettlement", "OriginalSettlement")
                        .WithMany()
                        .HasForeignKey("OriginalSettlementId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.SalesSettlement", "PreviousSettlement")
                        .WithMany()
                        .HasForeignKey("PreviousSettlementId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany("SalesSettlements")
                        .HasForeignKey("SalesContractId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_SalesSettlements_SalesContracts");

                    b.Navigation("OriginalSettlement");

                    b.Navigation("PreviousSettlement");

                    b.Navigation("SalesContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementCharge", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.ContractSettlement", "Settlement")
                        .WithMany("Charges")
                        .HasForeignKey("SettlementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_SettlementCharges_ContractSettlements");

                    b.HasOne("OilTrading.Core.Entities.PurchaseSettlement", null)
                        .WithMany("Charges")
                        .HasForeignKey("SettlementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_SettlementCharges_PurchaseSettlements");

                    b.HasOne("OilTrading.Core.Entities.SalesSettlement", null)
                        .WithMany("Charges")
                        .HasForeignKey("SettlementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_SettlementCharges_SalesSettlements");

                    b.Navigation("Settlement");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementRuleAction", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.SettlementAutomationRule", "Rule")
                        .WithMany("Actions")
                        .HasForeignKey("RuleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Rule");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementRuleCondition", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.SettlementAutomationRule", "Rule")
                        .WithMany("Conditions")
                        .HasForeignKey("RuleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Rule");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementTemplatePermission", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.SettlementTemplate", "Template")
                        .WithMany("Permissions")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Template");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementTemplateUsage", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.SettlementTemplate", "Template")
                        .WithMany("Usages")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Template");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ShippingOperation", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.ShippingOperation", "ParentShippingOperation")
                        .WithMany("SplitShipments")
                        .HasForeignKey("ParentShippingOperationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OilTrading.Core.Entities.PurchaseContract", "PurchaseContract")
                        .WithMany("ShippingOperations")
                        .HasForeignKey("PurchaseContractId");

                    b.HasOne("OilTrading.Core.Entities.SalesContract", "SalesContract")
                        .WithMany("ShippingOperations")
                        .HasForeignKey("SalesContractId");

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "ActualQuantity", b1 =>
                        {
                            b1.Property<Guid>("ShippingOperationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("ActualQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("ActualQuantity");

                            b1.HasKey("ShippingOperationId");

                            b1.ToTable("ShippingOperations");

                            b1.WithOwner()
                                .HasForeignKey("ShippingOperationId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "OriginalPlannedQuantity", b1 =>
                        {
                            b1.Property<Guid>("ShippingOperationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("OriginalPlannedQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("OriginalPlannedQuantity");

                            b1.HasKey("ShippingOperationId");

                            b1.ToTable("ShippingOperations");

                            b1.WithOwner()
                                .HasForeignKey("ShippingOperationId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "PlannedQuantity", b1 =>
                        {
                            b1.Property<Guid>("ShippingOperationId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasColumnType("INTEGER")
                                .HasColumnName("PlannedQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 6)
                                .HasColumnType("TEXT")
                                .HasColumnName("PlannedQuantity");

                            b1.HasKey("ShippingOperationId");

                            b1.ToTable("ShippingOperations");

                            b1.WithOwner()
                                .HasForeignKey("ShippingOperationId");
                        });

                    b.Navigation("ActualQuantity");

                    b.Navigation("OriginalPlannedQuantity");

                    b.Navigation("ParentShippingOperation");

                    b.Navigation("PlannedQuantity")
                        .IsRequired();

                    b.Navigation("PurchaseContract");

                    b.Navigation("SalesContract");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradeChain", b =>
                {
                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "PurchaseQuantity", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasMaxLength(10)
                                .HasColumnType("INTEGER")
                                .HasColumnName("PurchaseQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("PurchaseQuantityValue");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "PurchaseValue", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("PurchaseAmount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("PurchaseCurrency");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "RealizedPnL", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("RealizedPnLAmount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("RealizedPnLCurrency");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "RemainingQuantity", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasMaxLength(10)
                                .HasColumnType("INTEGER")
                                .HasColumnName("RemainingQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("RemainingQuantityValue");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Quantity", "SalesQuantity", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<int>("Unit")
                                .HasMaxLength(10)
                                .HasColumnType("INTEGER")
                                .HasColumnName("SalesQuantityUnit");

                            b1.Property<decimal>("Value")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("SalesQuantityValue");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "SalesValue", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("SalesAmount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("SalesCurrency");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsOne("OilTrading.Core.ValueObjects.Money", "UnrealizedPnL", b1 =>
                        {
                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 4)
                                .HasColumnType("TEXT")
                                .HasColumnName("UnrealizedPnLAmount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("TEXT")
                                .HasColumnName("UnrealizedPnLCurrency");

                            b1.HasKey("TradeChainId");

                            b1.ToTable("TradingChains");

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsMany("OilTrading.Core.Entities.TradeChainEvent", "Events", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("TEXT");

                            b1.Property<string>("Description")
                                .IsRequired()
                                .HasMaxLength(500)
                                .HasColumnType("TEXT");

                            b1.Property<string>("EventType")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT");

                            b1.Property<DateTime>("PerformedAt")
                                .HasColumnType("TEXT");

                            b1.Property<string>("PerformedBy")
                                .IsRequired()
                                .HasMaxLength(100)
                                .HasColumnType("TEXT");

                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.HasKey("Id");

                            b1.HasIndex("TradeChainId");

                            b1.ToTable("TradeChainEvents", (string)null);

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.OwnsMany("OilTrading.Core.Entities.TradeChainOperation", "Operations", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("TEXT");

                            b1.Property<string>("Data")
                                .HasColumnType("TEXT");

                            b1.Property<string>("Description")
                                .IsRequired()
                                .HasMaxLength(500)
                                .HasColumnType("TEXT");

                            b1.Property<string>("OperationType")
                                .IsRequired()
                                .HasMaxLength(50)
                                .HasColumnType("TEXT");

                            b1.Property<DateTime>("PerformedAt")
                                .HasColumnType("TEXT");

                            b1.Property<string>("PerformedBy")
                                .IsRequired()
                                .HasMaxLength(100)
                                .HasColumnType("TEXT");

                            b1.Property<Guid>("TradeChainId")
                                .HasColumnType("TEXT");

                            b1.HasKey("Id");

                            b1.HasIndex("TradeChainId");

                            b1.ToTable("TradeChainOperations", (string)null);

                            b1.WithOwner()
                                .HasForeignKey("TradeChainId");
                        });

                    b.Navigation("Events");

                    b.Navigation("Operations");

                    b.Navigation("PurchaseQuantity");

                    b.Navigation("PurchaseValue");

                    b.Navigation("RealizedPnL");

                    b.Navigation("RemainingQuantity");

                    b.Navigation("SalesQuantity");

                    b.Navigation("SalesValue");

                    b.Navigation("UnrealizedPnL");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradeGroupTag", b =>
                {
                    b.HasOne("OilTrading.Core.Entities.Tag", "Tag")
                        .WithMany()
                        .HasForeignKey("TagId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OilTrading.Core.Entities.Tag", null)
                        .WithMany("TradeGroupTags")
                        .HasForeignKey("TagId1");

                    b.HasOne("OilTrading.Core.Entities.TradeGroup", "TradeGroup")
                        .WithMany("TradeGroupTags")
                        .HasForeignKey("TradeGroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Tag");

                    b.Navigation("TradeGroup");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ContractSettlement", b =>
                {
                    b.Navigation("Charges");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryLocation", b =>
                {
                    b.Navigation("Inventories");

                    b.Navigation("Movements");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.InventoryPosition", b =>
                {
                    b.Navigation("IncomingMovements");

                    b.Navigation("OutgoingMovements");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PriceBenchmark", b =>
                {
                    b.Navigation("DailyPrices");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.Product", b =>
                {
                    b.Navigation("PurchaseContracts");

                    b.Navigation("SalesContracts");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PurchaseContract", b =>
                {
                    b.Navigation("ContractMatchings");

                    b.Navigation("ContractTags");

                    b.Navigation("LinkedSalesContracts");

                    b.Navigation("PricingEvents");

                    b.Navigation("PurchaseSettlements");

                    b.Navigation("ShippingOperations");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.PurchaseSettlement", b =>
                {
                    b.Navigation("Charges");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ReportConfiguration", b =>
                {
                    b.Navigation("Distributions");

                    b.Navigation("Executions");

                    b.Navigation("Schedules");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.RiskReport", b =>
                {
                    b.Navigation("Sections");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SalesContract", b =>
                {
                    b.Navigation("ContractMatchings");

                    b.Navigation("ContractTags");

                    b.Navigation("PricingEvents");

                    b.Navigation("SalesSettlements");

                    b.Navigation("ShippingOperations");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SalesSettlement", b =>
                {
                    b.Navigation("Charges");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementAutomationRule", b =>
                {
                    b.Navigation("Actions");

                    b.Navigation("Conditions");

                    b.Navigation("ExecutionHistory");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.SettlementTemplate", b =>
                {
                    b.Navigation("Permissions");

                    b.Navigation("Usages");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.ShippingOperation", b =>
                {
                    b.Navigation("PricingEvents");

                    b.Navigation("SplitShipments");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.Tag", b =>
                {
                    b.Navigation("ContractTags");

                    b.Navigation("TradeGroupTags");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradeGroup", b =>
                {
                    b.Navigation("PaperContracts");

                    b.Navigation("PurchaseContracts");

                    b.Navigation("SalesContracts");

                    b.Navigation("TradeGroupTags");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.TradingPartner", b =>
                {
                    b.Navigation("FinancialReports");

                    b.Navigation("PaymentRiskAlerts");

                    b.Navigation("PhysicalContracts");

                    b.Navigation("PurchaseContracts");

                    b.Navigation("SalesContracts");
                });

            modelBuilder.Entity("OilTrading.Core.Entities.User", b =>
                {
                    b.Navigation("PurchaseContracts");

                    b.Navigation("SalesContracts");
                });
#pragma warning restore 612, 618
        }
    }
}
