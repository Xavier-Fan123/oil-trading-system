---
# Oil Trading System Secrets Template
# NOTE: This is a template file. In production, use external secret management like:
# - Kubernetes External Secrets Operator
# - HashiCorp Vault
# - AWS Secrets Manager
# - Azure Key Vault
# - Google Secret Manager

apiVersion: v1
kind: Secret
metadata:
  name: oil-trading-secrets
  namespace: oil-trading
  labels:
    app: oil-trading-system
    component: secrets
  annotations:
    description: "Secrets for Oil Trading System - DO NOT COMMIT REAL VALUES"
type: Opaque
data:
  # Database credentials (base64 encoded)
  # echo -n 'your_secure_password' | base64
  database-password: Y2hhbmdlbWU=  # changeme
  database-connection-string: SG9zdD1wb3N0Z3Jlc3FsO1BvcnQ9NTQzMjtEYXRhYmFzZT1PaWxUcmFkaW5nRGI7VXNlcm5hbWU9cG9zdGdyZXM7UGFzc3dvcmQ9Y2hhbmdlbWU=
  database-read-connection-string: SG9zdD1wb3N0Z3Jlc3FsO1BvcnQ9NTQzMjtEYXRhYmFzZT1PaWxUcmFkaW5nRGI7VXNlcm5hbWU9cG9zdGdyZXM7UGFzc3dvcmQ9Y2hhbmdlbWU=
  
  # Redis credentials (base64 encoded)
  redis-password: Y2hhbmdlbWU=  # changeme
  
  # JWT secret key (base64 encoded)
  # openssl rand -base64 64 | tr -d "=+/" | cut -c1-32
  jwt-secret: eW91ci1qd3Qtc2VjcmV0LWtleS1oZXJl  # your-jwt-secret-key-here
  
  # API keys for external services (base64 encoded)
  external-api-key: eW91ci1leHRlcm5hbC1hcGkta2V5LWhlcmU=  # your-external-api-key-here
  
  # SSL certificates (if using custom certs)
  # tls.crt: LS0tLS1CRUdJTi... # base64 encoded certificate
  # tls.key: LS0tLS1CRUdJTi... # base64 encoded private key

---
# Basic Auth Secret for Staging Environment
apiVersion: v1
kind: Secret
metadata:
  name: basic-auth
  namespace: oil-trading
  labels:
    app: oil-trading-system
    component: auth
    environment: staging
type: Opaque
data:
  # htpasswd generated auth (admin:admin123)
  # htpasswd -nb admin admin123 | base64 -w 0
  auth: YWRtaW46JGFwcjEkSDZ1V09wOCQvUjlOeW9MdVNUNnlGQ3R5MC9rTk4x

---
# TLS Secret Template (for Ingress HTTPS)
apiVersion: v1
kind: Secret
metadata:
  name: oil-trading-tls
  namespace: oil-trading
  labels:
    app: oil-trading-system
    component: tls
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
type: kubernetes.io/tls
data:
  # These will be populated by cert-manager automatically
  # tls.crt: # Certificate (base64 encoded)
  # tls.key: # Private key (base64 encoded)

---
# Staging TLS Secret Template
apiVersion: v1
kind: Secret
metadata:
  name: oil-trading-staging-tls
  namespace: oil-trading
  labels:
    app: oil-trading-system
    component: tls
    environment: staging
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-staging"
type: kubernetes.io/tls
data:
  # These will be populated by cert-manager automatically

---
# Image Pull Secret (for private container registry)
apiVersion: v1
kind: Secret
metadata:
  name: regcred
  namespace: oil-trading
  labels:
    app: oil-trading-system
    component: registry
type: kubernetes.io/dockerconfigjson
data:
  # Replace with your registry credentials
  # kubectl create secret docker-registry regcred --docker-server=ghcr.io --docker-username=<your-username> --docker-password=<your-token> --dry-run=client -o yaml | grep .dockerconfigjson
  .dockerconfigjson: ewogICJhdXRocyI6IHsKICAgICJnaGNyLmlvIjogewogICAgICAidXNlcm5hbWUiOiAieW91ci11c2VybmFtZSIsCiAgICAgICJwYXNzd29yZCI6ICJ5b3VyLXRva2VuIiwKICAgICAgImF1dGgiOiAiZVc5MWNpMTFjMlZ5Ym1GdFpUcDViM1Z5TFhSdmEyVnUiCiAgICB9CiAgfQp9

---
# External Secrets Configuration (for production use)
# This is an example of how to use External Secrets Operator
# Uncomment and configure for production deployment
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: oil-trading-external-secrets
#   namespace: oil-trading
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: SecretStore
#   target:
#     name: oil-trading-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: database-password
#     remoteRef:
#       key: oil-trading/database
#       property: password
#   - secretKey: jwt-secret
#     remoteRef:
#       key: oil-trading/auth
#       property: jwt-secret